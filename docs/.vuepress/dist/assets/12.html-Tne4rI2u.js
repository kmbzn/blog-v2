import{_ as s}from"./image-47-B1ghMqws.js";import{_ as a,c as e,a as p,o as t}from"./app-DYuS003L.js";const l="/assets/image-42-D6pmZ3mF.png",i="/assets/image-45-CGGAwXJP.png",c="/assets/image-46-DSequuhZ.png",o="/assets/image-48-Dg_yVvkO.png",u="/assets/image-49-BdffrF42.png",r="/assets/image-50-Cn8RtiLr.png",d={};function k(m,n){return t(),e("div",null,[...n[0]||(n[0]=[p('<h1 id="_12-design-patterns" tabindex="-1"><a class="header-anchor" href="#_12-design-patterns"><span>12. Design Patterns</span></a></h1><h2 id="learning-goals" tabindex="-1"><a class="header-anchor" href="#learning-goals"><span>Learning Goals</span></a></h2><ul><li>Design pattern의 동기 이해 (솔루션의 template로서)</li><li>다양한 design pattern 유형 학습</li><li>Design pattern 사용 시점 논의</li><li>문제 해결을 위한 적절한 design pattern 적용</li></ul><h2 id="design-challenges" tabindex="-1"><a class="header-anchor" href="#design-challenges"><span>Design Challenges</span></a></h2><ul><li>재사용을 위한 software 설계의 어려움.</li><li>찾아야 할 것들 <ul><li>우수한 문제 분해 및 적절한 software</li><li>유연성, 모듈성, 명료성을 갖춘 design</li></ul></li><li>시행 착오를 통해 디자인 도출</li><li>성공적인 디자인 존재 <ul><li>두 디자인이 거의 동일하지 않음</li><li>일부 반복적인 특성 존재</li></ul></li><li>디자인을 described, 코드화, 표준화할 수 있는가? <ul><li>시행착오 단계 단축</li><li>&quot;더 나은&quot; software를 더 빨리 생산</li></ul></li></ul><h2 id="design-principles" tabindex="-1"><a class="header-anchor" href="#design-principles"><span>Design Principles</span></a></h2><blockquote><p><em>Application에서 변화하는 부분을 식별하여 변하지 않는 부분과 분리</em><em>Impleementation이 아닌 interface에 맞춰 program</em><em>Inheritance보다 composition을 선호</em><em>상호작용하는 object 간의 loosely coupled design 추구</em><em>Classes는 extension에 대해서 열려 있어야 하나, modification에 대해서는 닫혀 있어야 함.</em></p></blockquote><h2 id="design-patterns" tabindex="-1"><a class="header-anchor" href="#design-patterns"><span>Design Patterns</span></a></h2><blockquote><p><em>&quot;각 패턴은 우리 환경에서 반복적으로 발생하는 문제와 그 문제에 대한 핵심 해결책을 설명함. 이 해결책은 두 번 다시 똑같은 방식으로 수행하지 않고도 백만 번 이상 사용 가능&quot;</em> (Christopher Alexander, 1977)</p></blockquote><ul><li>건물과 마을의 pattern 설명에서 유래</li><li>소프트웨어 공학에서, design 패턴은 벽과 문이 아닌 object와 interface 관점 <ul><li><em>상호작용하는 object 집합이 특정 작업을 수행하거나 특정 기능을 제공하기 위해 협업하는 방식</em></li></ul></li></ul><h2 id="design-patterns-everywhere" tabindex="-1"><a class="header-anchor" href="#design-patterns-everywhere"><span>Design Patterns Everywhere!</span></a></h2><h2 id="history-of-patterns" tabindex="-1"><a class="header-anchor" href="#history-of-patterns"><span>History of Patterns</span></a></h2><ul><li>&quot;Pattern&quot;의 개념은 1977년 Christopher Alexander의 <em>A Pattern Language</em> (2543개 patterns)에서 처음 등장</li><li>1990년 Gang of Four or &quot;GoF&quot;(Gamma, Helm, Johnson, Vlissides) 그룹이 design pattern 카탈로그 편찬</li><li>1995년 책 <em>Design Patterns: Elements of Reusable Object-Oriented Software</em>는 이 분야의 고전</li></ul><h2 id="benefits-of-using-patterns" tabindex="-1"><a class="header-anchor" href="#benefits-of-using-patterns"><span>Benefits of Using Patterns</span></a></h2><ul><li>패턴은 공통 디자인 어휘 <ul><li>엔지니어가 문제를 추상화하고 구현과 분리하여 논의 가능</li><li>문화 구현; 도메인 특화 패턴은 디자인 속도 향상</li></ul></li><li>패턴은 디자인 전문성을 포착하고 전달 <ul><li>디자인 재사용 촉진 및 실수 방지</li></ul></li><li>문서화 개선 (더 적은 양 필요) 및 이해도 향상 (패턴은 한 번 잘 설명됨)</li></ul><h2 id="architecture-vs-design-patterns" tabindex="-1"><a class="header-anchor" href="#architecture-vs-design-patterns"><span>Architecture vs. Design Patterns</span></a></h2><ul><li>Architecture <ul><li>Application 구조화를 위한 상위 수준의 framework <ul><li>&quot;RPC 기반 client-server&quot;</li><li>&quot;추상화 레이어링&quot;</li><li>&quot;CORBA 기반 분산 객체 지향 system&quot;</li></ul></li></ul></li><li>계산 component 및 상호작용 관점에서 system 정의</li><li>Design Patterns <ul><li>Architecture보다 낮은 수준 (때때로 micro-architecture)</li><li>Application 내 하위 문제 해결을 위한 재사용 가능한 협업 <ul><li>Subsystem X를 Subsystem Y에서 어떻게 분리(decouple)할까?</li></ul></li></ul></li><li>Why Design Patterns? <ul><li>높은 추상화 수준에서 객체 지향 재사용 지원</li><li>객체 지향 구현을 안내하고 제약하는 &quot;framework&quot; 제공</li></ul></li></ul><h2 id="_4-essential-elements-of-design-patterns" tabindex="-1"><a class="header-anchor" href="#_4-essential-elements-of-design-patterns"><span>4 Essential Elements of Design Patterns</span></a></h2><ul><li><strong>Name</strong>: Pattern 식별</li><li><strong>Problem</strong>: 문제 및 context 관점에서 pattern 적용 시점 기술</li><li><strong>Solution</strong>: Design 구성 요소, 관계, 책임, 협업 기술</li><li><strong>Consequences</strong>: Pattern 적용 결과 및 trade-off</li></ul><h2 id="how-to-describe-design-patterns-more-fully" tabindex="-1"><a class="header-anchor" href="#how-to-describe-design-patterns-more-fully"><span>How to Describe Design Patterns more fully</span></a></h2><blockquote><p><em>동료 개발자가 pattern을 평가, 선택, 활용할 수 있도록 정보 전달이 중요</em></p></blockquote><ul><li>Design pattern을 위한 형식 <ul><li>Pattern Name and Classification</li><li>Intent</li><li>Also Known As</li><li>Motivation</li><li>Applicability</li><li>Structure</li><li>Participants</li><li>Collaborations</li><li>Consequences</li><li>Implementation</li><li>Sample Code</li><li>Known Uses</li><li>Related Patterns</li></ul></li></ul><h2 id="organizing-design-patterns" tabindex="-1"><a class="header-anchor" href="#organizing-design-patterns"><span>Organizing Design Patterns</span></a></h2><ul><li>By <em>Purpose</em> (pattern의 역할 반영) <ul><li>Creational Patterns</li><li>Structural Patterns</li><li>Behavioral Patterns</li></ul></li><li>By <em>Scope</em>: Pattern이 주로 어디에 적용되는지 구체화 <ul><li>Classes</li><li>Objects</li></ul></li></ul><h2 id="design-patterns-space" tabindex="-1"><a class="header-anchor" href="#design-patterns-space"><span>Design Patterns Space</span></a></h2><p><img src="'+l+`" alt="alt text"></p><h2 id="creational-patterns" tabindex="-1"><a class="header-anchor" href="#creational-patterns"><span>Creational Patterns</span></a></h2><blockquote><p><em>&quot;System이 object 생성 방식과 독립적이도록 만들어라.&quot;</em></p></blockquote><ul><li>일반 constructor가 충분하지 않은 경우 <ul><li>Object 생성 방식/시점 제어</li><li>언어 한계 극복 (예: keyword/default args 부재)</li><li>Polymorphic type 숨김</li></ul></li></ul><h2 id="named-constructor-idiom" tabindex="-1"><a class="header-anchor" href="#named-constructor-idiom"><span>Named Constructor (Idiom)</span></a></h2><ul><li>Creational pattern에서 사용되는 기법</li></ul><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code class="language-cpp"><span class="line"><span class="token keyword">class</span> <span class="token class-name">Llama</span> <span class="token punctuation">{</span></span>
<span class="line"><span class="token keyword">public</span></span>
<span class="line">    <span class="token keyword">static</span> Llama <span class="token function">create_llama</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">Llama</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">private</span><span class="token operator">:</span> <span class="token comment">// Making ctor private depends on our needs</span></span>
<span class="line">    <span class="token function">Llama</span><span class="token punctuation">(</span>String name_in<span class="token punctuation">)</span><span class="token punctuation">{</span> name <span class="token operator">=</span> name_in<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">    String name<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="scenario-polymorphic-objects" tabindex="-1"><a class="header-anchor" href="#scenario-polymorphic-objects"><span>Scenario: Polymorphic Objects</span></a></h2><ul><li><strong>Problem</strong>: Client에게 type을 노출하지 않고 polymorphic object를 생성 및 사용</li><li><strong>Solution</strong>: 원하는 type의 object를 생성하되, base class의 object를 반환하는 함수 작성</li></ul><h2 id="factory-pattern-function" tabindex="-1"><a class="header-anchor" href="#factory-pattern-function"><span>Factory Pattern (Function)</span></a></h2><ul><li>String이 factory에 생성할 type 전달</li></ul><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code class="language-cpp"><span class="line">Llama <span class="token function">llama_factory</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span> String type<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">&quot;ninja_llama&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">NinjaLlama</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">&quot;whooping_llama&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">WhoopingLlama</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">Llama steve <span class="token operator">=</span> <span class="token function">llama_factory</span><span class="token punctuation">(</span><span class="token string">&quot;Steve&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ninja_llama&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="factory-pattern-class" tabindex="-1"><a class="header-anchor" href="#factory-pattern-class"><span>Factory Pattern (Class)</span></a></h2><ul><li>Client가 (아마도) static method를 호출하여 올바른 type 생성</li></ul><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code class="language-cpp"><span class="line"><span class="token keyword">class</span> <span class="token class-name">LlamaFactory</span> <span class="token punctuation">{</span></span>
<span class="line"><span class="token keyword">public</span></span>
<span class="line">    <span class="token keyword">static</span> Llama <span class="token function">make_ninja_llama</span><span class="token punctuation">(</span>string name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">NinjaLlama</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">static</span> Llama <span class="token function">make_whooping_llama</span><span class="token punctuation">(</span>string name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">WhoopingLlama</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">Llama steve <span class="token operator">=</span></span>
<span class="line">    LlamaFactory<span class="token punctuation">.</span><span class="token function">make_ninja_llama</span><span class="token punctuation">(</span><span class="token string">&quot;Steve&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="scenario-difficulty-based-enemies" tabindex="-1"><a class="header-anchor" href="#scenario-difficulty-based-enemies"><span>Scenario: Difficulty-Based Enemies</span></a></h2><ul><li>Polymorphic Enemy class 계층 구조의 컴퓨터 게임 구현 중. 선택된 난이도에 따라 다른 버전의 enemy 생성을 원함</li><li>&quot;Normal&quot; 난이도: Regular goomba</li><li>&quot;Hard&quot; 난이도: Spiked goomba</li><li>Bad Solution: Enemy 생성 시점마다 난이도 확인</li></ul><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code class="language-cpp"><span class="line"><span class="token comment">// !! DON&#39;T DO THIS !!</span></span>
<span class="line">Enemy<span class="token operator">*</span> goomby <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>difficulty <span class="token operator">==</span> <span class="token string">&quot;normal&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    goomby <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Goomba</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>difficulty <span class="token operator">==</span> <span class="token string">&quot;hard&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    goomby <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">SpikedGoomba</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="solution-abstract-factory" tabindex="-1"><a class="header-anchor" href="#solution-abstract-factory"><span>Solution: Abstract Factory</span></a></h2><div class="language-diagram line-numbers-mode" data-highlighter="prismjs" data-ext="diagram"><pre><code class="language-diagram"><span class="line">          ┌────────────────────┐         </span>
<span class="line">          │AbstractEnemyFactory│         </span>
<span class="line">          │- create_goomba()   │         </span>
<span class="line">          └───────▲────▲───────┘         </span>
<span class="line">                  │    │                 </span>
<span class="line">                  │    │                 </span>
<span class="line">┌─────────────────┴┐  ┌┴────────────────┐</span>
<span class="line">│NormalEnemyFactory│  │HardEnemyFactory │</span>
<span class="line">│- create_goomba() │  │- create_goomba()│</span>
<span class="line">└──────────────────┘  └─────────────────┘</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code class="language-cpp"><span class="line"><span class="token comment">// Only have to do this once!</span></span>
<span class="line">AbstractEnemyFactory factory <span class="token operator">=</span> null<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>difficulty <span class="token operator">==</span> “normal”<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">NormalEnemyfactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>difficulty <span class="token operator">==</span> “hard”<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">HardEnemyFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="line">Enemy goomby <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">create_goomba</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">   ┌───────┐   </span>
<span class="line">   │ Enemy │   </span>
<span class="line">   └───▲───┘   </span>
<span class="line">       │       </span>
<span class="line">   ┌───┴───┐   </span>
<span class="line">   │Goomba │   </span>
<span class="line">   └───▲───┘   </span>
<span class="line">       │       </span>
<span class="line">┌──────┴──────┐</span>
<span class="line">│Spiked Goomba│</span>
<span class="line">└─────────────┘</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="scenario-global-application-state" tabindex="-1"><a class="header-anchor" href="#scenario-global-application-state"><span>Scenario: Global Application State</span></a></h2><ul><li>Global하게 access 가능한 application state 필요. Data 접근 및 갱신 제어 필요</li><li>Bad solution: 순수 global 변수 (plz no)</li><li>Less bad solution: 모든 state\`를 class에 넣고 global instance 보유</li></ul><h2 id="aside-when-is-global-state-ok" tabindex="-1"><a class="header-anchor" href="#aside-when-is-global-state-ok"><span>Aside: When is Global State OK?</span></a></h2><ul><li>모든 곳에서 access 필요, parameter 전달이 코드를 과도하게 복잡하게 만듦</li><li>Parameter 전달 줄이려고 global 변수 사용은 <strong>BAD</strong></li><li>Program 외부에 저장된 state (database, web API 등)</li></ul><div class="hint-container warning"><p class="hint-container-title">경고</p><p>Global 변수는 여전히 나쁨!</p></div><h2 id="singleton-pattern" tabindex="-1"><a class="header-anchor" href="#singleton-pattern"><span>Singleton Pattern</span></a></h2><ul><li>&quot;Class가 단 하나의 instance\`만 갖도록 보장하고, 이에 대한 global 접근 지점 제공&quot;</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">public</span>
<span class="line">- static get_instance() // named ctor</span>
<span class="line"></span>
<span class="line">private</span>
<span class="line">- static instance // the one instance</span>
<span class="line">- Singleton() // ctor</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="singleton-구현" tabindex="-1"><a class="header-anchor" href="#singleton-구현"><span>Singleton (구현)</span></a></h2><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">get_instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Singleton</span><span class="token punctuation">.</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">Singleton</span><span class="token punctuation">.</span>instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token class-name">Singleton</span><span class="token punctuation">.</span>instance<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        spams <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Singleton created&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">// Our global state</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">int</span> spams<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">num_spams</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> spams<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add_spam</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        spams <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="using-the-singleton" tabindex="-1"><a class="header-anchor" href="#using-the-singleton"><span>Using the Singleton</span></a></h2><ul><li>Exercise: 이 code의 출력은?</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">public</span>
<span class="line">- static get_instance() // named ctor</span>
<span class="line">- num_spams()</span>
<span class="line">- add_spam() // adds 1 to num_spams</span>
<span class="line"></span>
<span class="line">private</span>
<span class="line">- static instance // the one instance</span>
<span class="line">- Singleton() // ctor, prints message</span>
<span class="line">- spams</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">int</span> spams <span class="token operator">=</span> <span class="token class-name">Singleton</span><span class="token punctuation">.</span><span class="token function">get_instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">num_spams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>spams<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">Singleton</span><span class="token punctuation">.</span><span class="token function">get_instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add_spam</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        spams <span class="token operator">=</span> <span class="token class-name">Singleton</span><span class="token punctuation">.</span><span class="token function">get_instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">num_spams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>spams<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="using-the-singleton-solution" tabindex="-1"><a class="header-anchor" href="#using-the-singleton-solution"><span>Using the Singleton (Solution)</span></a></h2><ul><li>Exercise: 이 code의 출력은?</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">int</span> spams <span class="token operator">=</span> <span class="token class-name">Singleton</span><span class="token punctuation">.</span><span class="token function">get_instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">num_spams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>spams<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">Singleton</span><span class="token punctuation">.</span><span class="token function">get_instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add_spam</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        spams <span class="token operator">=</span> <span class="token class-name">Singleton</span><span class="token punctuation">.</span><span class="token function">get_instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">num_spams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>spams<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Output</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">Singleton created</span>
<span class="line"><span class="token number">42</span></span>
<span class="line"><span class="token number">43</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="singleton-get-instance" tabindex="-1"><a class="header-anchor" href="#singleton-get-instance"><span><code>Singleton.get_instance()</code></span></a></h2><ul><li>타이핑이 많음. 만약 이렇게 한다면?</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">Singleton</span> s <span class="token operator">=</span> <span class="token class-name">Singleton</span><span class="token punctuation">.</span><span class="token function">get_instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">num_spams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>그래서, 좋은가? 좋지 않은가?</li><li><code>Singleton.get_instance()</code>가 매번 동일한 object를 반환한다는 보장 없음</li></ul><h2 id="singleton-design-scenario" tabindex="-1"><a class="header-anchor" href="#singleton-design-scenario"><span>Singleton: Design Scenario</span></a></h2><ul><li>카드 게임 Euchre 컴퓨터 버전 구현 중. Game class가 게임 state 저장</li><li>Application 시작 시, Euchre 한 게임 플레이 후 종료</li><li>Game<code>을 singleton</code>으로 만들어야 하는가?</li></ul><h2 id="make-game-a-singleton" tabindex="-1"><a class="header-anchor" href="#make-game-a-singleton"><span>Make Game a Singleton?</span></a></h2><ul><li>찬성 <ul><li>Application에 Game instance가 하나만 존재</li></ul></li><li>반대 <ul><li>Game instance가 우연히 하나일 뿐, 하나만 있어야 한다는 요구사항 없음</li><li>Singleton 패턴은 application 요구사항이 단 하나의 instance 존재를 명시할 때만 사용</li><li>Singleton 패턴은 모든 것을 global로 만들기 위한 변명이 아님</li></ul></li></ul><h2 id="structural-patterns" tabindex="-1"><a class="header-anchor" href="#structural-patterns"><span>Structural Patterns</span></a></h2><ul><li>기존 class interface로부터 새로운 class interface 구축</li><li>구현 세부사항 숨김</li><li>더 깔끔하고 특화된 interface 제공</li><li>익숙한가?</li></ul><h2 id="adapter-pattern" tabindex="-1"><a class="header-anchor" href="#adapter-pattern"><span>Adapter Pattern</span></a></h2><ul><li>&quot;Class의 interface를 client가 기대하는 다른 interface로 변환&quot;</li><li>&quot;Gang of Four&quot; Design Patterns book</li><li><img src="`+i+`" alt="alt text"></li><li>Problem: 필요한 기능은 있지만 원하는 방식이 아닌 object 보유 <ul><li>사용하기 번거롭고/불편함. Bug 발생 쉬움</li></ul></li><li>Example <ul><li>Iterator는 있지만 collection은 없음</li><li>For-each loop 실행 원함. Iterator로는 불가능, Iterable 필요</li></ul></li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printAll</span><span class="token punctuation">(</span><span class="token class-name">Iterator</span> itr<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// error: must implement Iterable</span></span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> itr<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="adapter-in-action" tabindex="-1"><a class="header-anchor" href="#adapter-in-action"><span>Adapter in Action</span></a></h2><ul><li>Solution: 제공된 기능과 원하는 기능 사이를 연결하는 <strong>adapter object</strong> 생성</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IterableAdapter</span> <span class="token keyword">implements</span> <span class="token class-name">Iterable</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Iterator</span> iterator<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">IterableAdapter</span><span class="token punctuation">(</span><span class="token class-name">Iterator</span> itr<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>iterator <span class="token operator">=</span> itr<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Iterator</span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> iterator<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printAll</span><span class="token punctuation">(</span><span class="token class-name">Iterator</span> itr<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">IterableAdapter</span> adapter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IterableAdapter</span><span class="token punctuation">(</span>itr<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> adapter<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span> <span class="token comment">// works</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="adapter-pattern-more-examples" tabindex="-1"><a class="header-anchor" href="#adapter-pattern-more-examples"><span>Adapter Pattern (More Examples)</span></a></h2><ul><li>C++ <code>fstream</code> 초기 구현</li><li>C FILE macro를 위한 Adapter</li></ul><h2 id="other-structural-patterns" tabindex="-1"><a class="header-anchor" href="#other-structural-patterns"><span>Other Structural Patterns</span></a></h2><ul><li>Composite: Client가 개별 object와 object 그룹을 동일하게 처리 <ul><li>예: PowerPoint에서 object 선택 및 이동</li></ul></li><li>Proxy: &quot;다른 object에 대한 접근 제어를 위해 surrogate(대리자) 또는 placeholder 제공&quot; <ul><li>예: <code>std::vector::reference</code></li></ul></li></ul><h2 id="composite-pattern" tabindex="-1"><a class="header-anchor" href="#composite-pattern"><span>Composite Pattern</span></a></h2><ul><li>Example: 그리기 편집기 같은 그래픽 application <ul><li>단순 component로 복잡한 다이어그램 구축</li></ul></li></ul><p><img src="`+c+`" alt="alt text"></p><h2 id="behavioral-patterns" tabindex="-1"><a class="header-anchor" href="#behavioral-patterns"><span>Behavioral Patterns</span></a></h2><ul><li>&quot;Behavioral 패턴은 algorithm 및 object 간 책임 할당과 관련&quot;</li><li>이미 본 Behavioral pattern: Iterator pattern</li><li>구현 방식과 무관하게 container 순회를 위한 통일된 interface</li></ul><h2 id="scenario-lock-on-in-action-adventure-game" tabindex="-1"><a class="header-anchor" href="#scenario-lock-on-in-action-adventure-game"><span>Scenario: “Lock-on” in Action-Adventure Game</span></a></h2><blockquote><p><em>&quot;플레이어 캐릭터가 적에게 “lock-on”(이동과 상관없이 적을 향해 얼굴을 돌림)할 수 있는 컴퓨터 게임을 구현 중이다. lock-on된 적이 쓰러지면 캐릭터는 해당 적을 더 이상 조준하지 않아야 한다.&quot;</em></p></blockquote><h2 id="lock-on-not-so-good-implementation" tabindex="-1"><a class="header-anchor" href="#lock-on-not-so-good-implementation"><span>“Lock-on”: Not-so-good Implementation</span></a></h2><ul><li>Enemy가 쓰러지면, player character의 <code>release_lock_on()</code> 호출</li></ul><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code class="language-cpp"><span class="line"><span class="token keyword">class</span> <span class="token class-name">Player</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span></span>
<span class="line">    <span class="token function">release_lock_on</span><span class="token punctuation">(</span>Enemy enemy<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>enemy <span class="token operator">==</span> locked_on<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            locked_on <span class="token operator">=</span> null<span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">private</span> Enemy locked_on<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Enemy</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Called when the enemy is defeated</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">on_death</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// Global accessor for the player</span></span>
<span class="line">        <span class="token comment">// character</span></span>
<span class="line">        <span class="token function">get_player</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">release_lock_on</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>이 접근 방식의 문제점은? <ul><li>Player\`와 Enemy가 tightly coupled (강하게 결합)</li><li>하나를 변경하면 다른 하나도 변경해야 함</li><li>Player가 둘 이상이라면?</li><li>Enemy<code>를 쓰러뜨릴 때 player</code>의 &quot;score&quot;를 갱신하고 싶다면?</li><li>Enemy 사망 시 새로운 작업 추가 시, Enemy class를 수정하고 새 feature와 couple\`해야 함</li></ul></li></ul><h2 id="observer-pattern-a-k-a-publish-subscribe" tabindex="-1"><a class="header-anchor" href="#observer-pattern-a-k-a-publish-subscribe"><span>Observer Pattern (a.k.a. “Publish-Subscribe”)</span></a></h2><blockquote><p><em>&quot;객체 간 일대다 종속성을 정의하여, 객체의 상태가 변경될 때 모든 종속 객체가 자동으로 통지받고 update되도록 한다.&quot;</em></p></blockquote><p><img src="`+s+`" alt="alt text"></p><p>Note: 구독/구독 취소는 구현에 따라 정적 or 비정적일 수 있음.</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token keyword">class</span> <span class="token class-name">Subject</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">Observer</span> observer<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        subscribers<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token class-name">Observer</span> observer<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        subscribers<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">change_state</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Observer</span> observer <span class="token keyword">in</span> subscribers<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            observer<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">List</span> subscribers</span>
<span class="line">        <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        System<span class="token punctuation">.</span><span class="token keyword">out</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Received update&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">MainClass</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> Main <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Observer</span> observer1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Observer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">Observer</span> observer2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Observer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        Subject<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>observer1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        Subject<span class="token punctuation">.</span><span class="token function">change_state</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        Subject<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>observer2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        Subject<span class="token punctuation">.</span><span class="token function">change_state</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        Subject<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span>observer2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        Subject<span class="token punctuation">.</span><span class="token function">change_state</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Exercise: &quot;Received update&quot;가 몇 번 출력되는가?</li></ul><h2 id="observer-for-lock-on-feature" tabindex="-1"><a class="header-anchor" href="#observer-for-lock-on-feature"><span>Observer for “Lock-on” Feature</span></a></h2><p><img src="`+o+`" alt="alt text"></p><blockquote><p><em>Abstract란 “파생 클래스는 이 method를 반드시 재정의해야 한다”는 의미</em></p></blockquote><h2 id="observer-for-lock-on-feature-implementation" tabindex="-1"><a class="header-anchor" href="#observer-for-lock-on-feature-implementation"><span>Observer for “Lock-on” Feature (Implementation)</span></a></h2><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token keyword">class</span> <span class="token class-name">Enemy</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">EnemyObserver</span> observer<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        subscribers<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token class-name">EnemyObserver</span> observer<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        subscribers<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">on_death</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">EnemyObserver</span> observer <span class="token keyword">in</span> subscribers<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            observer<span class="token punctuation">.</span><span class="token function">update_enemy_defeated</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">List</span> subscribers</span>
<span class="line">        <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">EnemyObserver</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">update_enemy_defeated</span><span class="token punctuation">(</span><span class="token class-name">Enemy</span> enemy<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Player</span><span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">EnemyObserver</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">update_enemy_defeated</span><span class="token punctuation">(</span><span class="token class-name">Enemy</span> enemy<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>enemy <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            target <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">lock_on</span><span class="token punctuation">(</span><span class="token class-name">Enemy</span> enemy<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        target <span class="token operator">=</span> enemy<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Enemy</span> target<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="observer-update-functions" tabindex="-1"><a class="header-anchor" href="#observer-update-functions"><span>Observer <code>update_</code> Functions</span></a></h2><ul><li>여러 <code>update_</code> 함수는 세분화 유지</li><li>Update에 관심 없는 observer는 무시 가능 (빈 구현)</li><li>Observer가 data를 가져오게(pull) 하는 것보다, 새 data를 parameter로 전달(push)하는 것이 일반적</li></ul><h2 id="scenario-damage-dealing-in-action-game" tabindex="-1"><a class="header-anchor" href="#scenario-damage-dealing-in-action-game"><span>Scenario: Damage-Dealing in Action Game</span></a></h2><blockquote><p><em>&quot;플레이어 캐릭터가 다양한 적과 전투를 벌이는 컴퓨터 게임을 제작 중이다. 플레이어나 적이 공격을 받으면 피해를 입고, 체력이 0이 되면 사망, 플레이어가 사망하면 게임이 종료된다. 적이 사망하면 아이템을 drop한다. 그렇지 않으면 플레이어/적은 뒤로 밀려나며 소리를 내뱉는다.&quot;</em></p></blockquote><h2 id="damage-dealing-first-design" tabindex="-1"><a class="header-anchor" href="#damage-dealing-first-design"><span>Damage-Dealing: First Design</span></a></h2><ul><li>참고: <code>receive_hit()</code>은 Actor가 damage 입을 때 호출됨 <img src="`+u+`" alt="alt text"></li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">class</span> <span class="token class-name">Actor</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receive_hit</span><span class="token punctuation">(</span><span class="token keyword">float</span> damage<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        health <span class="token operator">-=</span> damage<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">float</span> <span class="token function">get_health</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> health<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">float</span> health <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">apply_knockback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Knocked back!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Enemy</span> <span class="token keyword">extends</span> <span class="token class-name">Actor</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receive_hit</span><span class="token punctuation">(</span><span class="token keyword">float</span> damage<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        base<span class="token punctuation">.</span><span class="token function">receive_hit</span><span class="token punctuation">(</span>damage<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_health</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Dropped an item&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Weah&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token function">apply_knockback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Player</span> <span class="token keyword">extends</span> <span class="token class-name">Actor</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receive_hit</span><span class="token punctuation">(</span><span class="token keyword">float</span> damage<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        base<span class="token punctuation">.</span><span class="token function">receive_hit</span><span class="token punctuation">(</span>damage<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_health</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Game over&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Ow&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token function">apply_knockback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="template-method-pattern" tabindex="-1"><a class="header-anchor" href="#template-method-pattern"><span>Template Method Pattern</span></a></h2><blockquote><p><em>&quot;“알고리즘의 골격을 하나의 작업으로 정의하고 일부 단계를 하위 클래스로 미루는 패턴이다. templete method 패턴은 알고리즘의 구조를 변경하지 않으면서 하위 클래스가 알고리즘의 특정 단계를 재정의할 수 있도록 한다.”&quot;</em></p></blockquote><h2 id="damage-dealing-template-method" tabindex="-1"><a class="header-anchor" href="#damage-dealing-template-method"><span>Damage-Dealing: Template Method</span></a></h2><p><img src="`+r+`" alt="alt text"></p><h2 id="damage-dealing-template-method-implementation" tabindex="-1"><a class="header-anchor" href="#damage-dealing-template-method-implementation"><span>Damage-Dealing: Template Method (Implementation)</span></a></h2><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">Abstract</span> <span class="token keyword">class</span> <span class="token class-name">Actor</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receive_hit</span><span class="token punctuation">(</span><span class="token keyword">float</span> damage<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        health <span class="token operator">-=</span> damage<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_health</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">on_death</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">play_damaged_sound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token function">apply_knockback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">on_death</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">play_damaged_sound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// Other members same as before</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Enemy</span> <span class="token keyword">extends</span> <span class="token class-name">Actor</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">on_death</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Dropped an item&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">play_damaged_sound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Weah&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Player</span> <span class="token keyword">extends</span> <span class="token class-name">Actor</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">on_death</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Game over&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">play_damaged_sound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Ow&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="template-method-the-hollywood-principle" tabindex="-1"><a class="header-anchor" href="#template-method-the-hollywood-principle"><span>Template Method: The “Hollywood Principle”</span></a></h2><ul><li>첫 구현: Derived class가 Base class의 <code>receive_hit()</code> 호출</li><li>Template method 구현: Non-virtual base class <code>receive_hit()</code>이 derived class method 호출</li></ul><blockquote><p><em>&quot;Don’t call us, we’ll call you!&quot;</em></p></blockquote><h2 id="exercise-updating-our-algorithm" tabindex="-1"><a class="header-anchor" href="#exercise-updating-our-algorithm"><span>Exercise: Updating our Algorithm</span></a></h2><ul><li>Knock back될 수 없는 <code>TurretEnemy</code> 추가 가정</li><li>새 enemy type 포함하도록 design 수정 [UML 다이어그램: Slide 54와 동일]</li></ul>`,126)])])}const h=a(d,[["render",k]]),g=JSON.parse('{"path":"/se/12.html","title":"12. Design Patterns","lang":"ko-KR","frontmatter":{},"git":{"updatedTime":1765490557000,"contributors":[{"name":"kmbzn","username":"kmbzn","email":"kmbzn24@gmail.com","commits":2,"url":"https://github.com/kmbzn"},{"name":"Byungjun Kim","username":"","email":"kmbzn24@gmail.com","commits":1}],"changelog":[{"hash":"4803658c3d1a310eb04dd4cddd8242ad9591eff8","time":1765490557000,"email":"kmbzn24@gmail.com","author":"Byungjun Kim","message":"update db final"},{"hash":"f81f9042e7888855a506f92261c74aaa2d86aa2a","time":1764305376000,"email":"kmbzn24@gmail.com","author":"kmbzn","message":"update npm"},{"hash":"6120a63360466143831636b40c0f1ff3226d9d3e","time":1763149723000,"email":"kmbzn24@gmail.com","author":"kmbzn","message":"Refactor code structure for improved readability and maintainability"}]},"filePathRelative":"se/12.md"}');export{h as comp,g as data};
