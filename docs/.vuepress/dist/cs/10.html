<!doctype html>
<html lang="ko-KR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"><meta property="og:description" content="KeyBaseZone"><meta property="og:image" content="https://kmbzn.com/images/og.png"><link rel="icon" type="image/x-icon" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="192x192" href="/images/android-chrome-192x192.png"><link rel="icon" type="image/png" sizes="512x512" href="/images/android-chrome-512x512.png"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/victor-mono@latest/dist/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretendard@1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.css"><title>10. String Security</title><meta name="description" content="Summarizing key concepts from CS lectures.">
    <link rel="preload" href="/assets/style-hkFYEFWd.css" as="style"><link rel="stylesheet" href="/assets/style-hkFYEFWd.css">
    <link rel="modulepreload" href="/assets/app-BV4FAx4-.js"><link rel="modulepreload" href="/assets/vendor-bWEtUbjf.js"><link rel="modulepreload" href="/assets/10.html-Bm8TunBB.js">
    <link rel="prefetch" href="/assets/Mindscape.html-DlQHQLay.js" as="script"><link rel="prefetch" href="/assets/Musics.html-B7vsdhK3.js" as="script"><link rel="prefetch" href="/assets/index.html-BLWpi0py.js" as="script"><link rel="prefetch" href="/assets/test.html-DwJ0wGv3.js" as="script"><link rel="prefetch" href="/assets/1.html-B-VjT9Yf.js" as="script"><link rel="prefetch" href="/assets/10.html-BGCh5Xm_.js" as="script"><link rel="prefetch" href="/assets/11.html-CZgmzu0a.js" as="script"><link rel="prefetch" href="/assets/12.html-Cfqqq-MH.js" as="script"><link rel="prefetch" href="/assets/13.html-DjstRGqQ.js" as="script"><link rel="prefetch" href="/assets/14.html-B95nLEZV.js" as="script"><link rel="prefetch" href="/assets/15.html-C0_E9lAM.js" as="script"><link rel="prefetch" href="/assets/16.html-CW5GhbwW.js" as="script"><link rel="prefetch" href="/assets/17.html-at7PTfn9.js" as="script"><link rel="prefetch" href="/assets/2.html-DDwozWWf.js" as="script"><link rel="prefetch" href="/assets/3.html-Dyx2HZqf.js" as="script"><link rel="prefetch" href="/assets/4.html-NJ6qgGfI.js" as="script"><link rel="prefetch" href="/assets/5.html-DApTnXbl.js" as="script"><link rel="prefetch" href="/assets/6.html-CWS6eSBY.js" as="script"><link rel="prefetch" href="/assets/7.html-ZOCmGd2F.js" as="script"><link rel="prefetch" href="/assets/8.html-B-l3FNo2.js" as="script"><link rel="prefetch" href="/assets/9.html-B9rrEail.js" as="script"><link rel="prefetch" href="/assets/midterm.html-DIRsdbYW.js" as="script"><link rel="prefetch" href="/assets/1018.html-DNJlM1LV.js" as="script"><link rel="prefetch" href="/assets/1966.html-URTr8eFq.js" as="script"><link rel="prefetch" href="/assets/PythonTimeout.html-CnNWUDd5.js" as="script"><link rel="prefetch" href="/assets/aloha_6.html-Cj0pMdkz.js" as="script"><link rel="prefetch" href="/assets/std-vector.html-cOArizwb.js" as="script"><link rel="prefetch" href="/assets/vim.html-DOHYviQb.js" as="script"><link rel="prefetch" href="/assets/1.html-eRFqbvmb.js" as="script"><link rel="prefetch" href="/assets/13.html-B6JszH7n.js" as="script"><link rel="prefetch" href="/assets/14.html-DUqpsWzz.js" as="script"><link rel="prefetch" href="/assets/15.html-2ewoc5IH.js" as="script"><link rel="prefetch" href="/assets/16.html-vxBR7IWK.js" as="script"><link rel="prefetch" href="/assets/18.html-DGNpVaOm.js" as="script"><link rel="prefetch" href="/assets/2.html-Cu--_Hy0.js" as="script"><link rel="prefetch" href="/assets/2021024057.html-DKR47WuU.js" as="script"><link rel="prefetch" href="/assets/3.html-Bf6Ijv9t.js" as="script"><link rel="prefetch" href="/assets/6.html-C-zESbQF.js" as="script"><link rel="prefetch" href="/assets/7-1.html-D1QOQk4-.js" as="script"><link rel="prefetch" href="/assets/7-2.html-Bf2mG6Yp.js" as="script"><link rel="prefetch" href="/assets/Assignment2-1.html-BAZIQkz3.js" as="script"><link rel="prefetch" href="/assets/Assignment2-2.html-D8V-zxRY.js" as="script"><link rel="prefetch" href="/assets/Assignment3.html-emslOT19.js" as="script"><link rel="prefetch" href="/assets/LAB06.html-DvQOTILL.js" as="script"><link rel="prefetch" href="/assets/LAB08.html-BSvpb7zD.js" as="script"><link rel="prefetch" href="/assets/bpt.html-DfUbBpHf.js" as="script"><link rel="prefetch" href="/assets/wiki.html-T4giJlPq.js" as="script"><link rel="prefetch" href="/assets/Bitcoin.html-B5YX8Rgj.js" as="script"><link rel="prefetch" href="/assets/1-Course-Intro.html-DZ-JysNB.js" as="script"><link rel="prefetch" href="/assets/10-Character-Animation.html-COh0G_0O.js" as="script"><link rel="prefetch" href="/assets/11-Curves.html-Bc-sPR24.js" as="script"><link rel="prefetch" href="/assets/12-More-Lighting-Texture.html-DppKCINS.js" as="script"><link rel="prefetch" href="/assets/2-Rendering-Basics.html-n5LwvtXQ.js" as="script"><link rel="prefetch" href="/assets/3-Transformations.html-wf7fSBYV.js" as="script"><link rel="prefetch" href="/assets/4-Affine-Space-Frame_Matrix.html-D1btmeRr.js" as="script"><link rel="prefetch" href="/assets/5-Vertex-Processing-1.html-N1dvpyUc.js" as="script"><link rel="prefetch" href="/assets/6-Vertex-Processing-2.html-CM0OIl0e.js" as="script"><link rel="prefetch" href="/assets/7-Hierachical-Modeling-Mesh.html-DwaPjBRj.js" as="script"><link rel="prefetch" href="/assets/8-Lighting.html-BUoKAPSj.js" as="script"><link rel="prefetch" href="/assets/9-Orientation-Rotation.html-BKn2Eaj1.js" as="script"><link rel="prefetch" href="/assets/Project-2.html-BiI-w9K4.js" as="script"><link rel="prefetch" href="/assets/Project-3.html-C9uuJq9b.js" as="script"><link rel="prefetch" href="/assets/4.html-IlIRzSsr.js" as="script"><link rel="prefetch" href="/assets/5.html-BxxIWve-.js" as="script"><link rel="prefetch" href="/assets/6.html-CbN0LKkE.js" as="script"><link rel="prefetch" href="/assets/7.html-DrzuMYdo.js" as="script"><link rel="prefetch" href="/assets/8.html-DBeFqPU9.js" as="script"><link rel="prefetch" href="/assets/saja.html-anDe_8um.js" as="script"><link rel="prefetch" href="/assets/Nordvik.html-BJNdIun0.js" as="script"><link rel="prefetch" href="/assets/NorthSentinelIsland.html-DjWLlSj2.js" as="script"><link rel="prefetch" href="/assets/Rongorongo.html-wEtk0tY-.js" as="script"><link rel="prefetch" href="/assets/1.html-SuEAZVz4.js" as="script"><link rel="prefetch" href="/assets/2.html-_ZXKoP_4.js" as="script"><link rel="prefetch" href="/assets/24midterm.html-DNercNgk.js" as="script"><link rel="prefetch" href="/assets/3.html-BDbK2Ny4.js" as="script"><link rel="prefetch" href="/assets/4.html-Cpe8K0My.js" as="script"><link rel="prefetch" href="/assets/5.html-DZXCWAWb.js" as="script"><link rel="prefetch" href="/assets/6.html-Cahc2tLH.js" as="script"><link rel="prefetch" href="/assets/7.html-IAf_BaCD.js" as="script"><link rel="prefetch" href="/assets/8.html-Dcp1F25R.js" as="script"><link rel="prefetch" href="/assets/9.html-6ctFgjPy.js" as="script"><link rel="prefetch" href="/assets/wiki.html-CgOkhg-E.js" as="script"><link rel="prefetch" href="/assets/ExtraVirginOliveOil.html-idIioYap.js" as="script"><link rel="prefetch" href="/assets/PsylliumHusk.html-cGw_LJJH.js" as="script"><link rel="prefetch" href="/assets/10.html-COCXlLep.js" as="script"><link rel="prefetch" href="/assets/11.html-sd_VwB8p.js" as="script"><link rel="prefetch" href="/assets/12.html-Cl6Ucutp.js" as="script"><link rel="prefetch" href="/assets/13.html-CRQeTNDf.js" as="script"><link rel="prefetch" href="/assets/2.html-DMQ8qYKf.js" as="script"><link rel="prefetch" href="/assets/3.html-CC2iQGx8.js" as="script"><link rel="prefetch" href="/assets/4.html-f74x7C-z.js" as="script"><link rel="prefetch" href="/assets/5.html-M2Rc9QyI.js" as="script"><link rel="prefetch" href="/assets/6.html-Ba92EOb9.js" as="script"><link rel="prefetch" href="/assets/7.html-DqvCFCO2.js" as="script"><link rel="prefetch" href="/assets/8.html-Bs2ldM9m.js" as="script"><link rel="prefetch" href="/assets/9.html-D38PKH5K.js" as="script"><link rel="prefetch" href="/assets/wiki-2.html-PGJFfbWK.js" as="script"><link rel="prefetch" href="/assets/wiki.html-CymFcgpX.js" as="script"><link rel="prefetch" href="/assets/10.VirtualMemory-1.html-BX2r-Xu0.js" as="script"><link rel="prefetch" href="/assets/11.VirtualMemory-2.html-CIwsjpEE.js" as="script"><link rel="prefetch" href="/assets/12.FileSystem.html-DHzklIDr.js" as="script"><link rel="prefetch" href="/assets/13.MassStorageManagement.html-BTbz1xCH.js" as="script"><link rel="prefetch" href="/assets/14.IOSystems.html-HaXWrWmx.js" as="script"><link rel="prefetch" href="/assets/7.Deadlocks.html-DQ5A4meM.js" as="script"><link rel="prefetch" href="/assets/8.MemoryManagement-1.html-BGl1o3Ju.js" as="script"><link rel="prefetch" href="/assets/9.MemoryManagement-2.html-B7iYRNKy.js" as="script"><link rel="prefetch" href="/assets/Project-2-test-code.html-BPeiyBgP.js" as="script"><link rel="prefetch" href="/assets/Project-2.html-CACJ8ZO9.js" as="script"><link rel="prefetch" href="/assets/Project-3-ko.html-BiQkZNUb.js" as="script"><link rel="prefetch" href="/assets/Project-3-wiki.html-8X3hnERB.js" as="script"><link rel="prefetch" href="/assets/Project-3.html-B_C8j4vw.js" as="script"><link rel="prefetch" href="/assets/wiki.html-ByCzKEQM.js" as="script"><link rel="prefetch" href="/assets/404.html-B74NY2oq.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/images/kbz.png" alt><!----></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><!----><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading"> <!----></p><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/Mindscape.html" aria-label="Mindscape ğŸ”¥"><!--[--><!--[--><!--]--><!--]-->Mindscape ğŸ”¥<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Musics.html" aria-label="Playlist ğŸ§"><!--[--><!--[--><!--]--><!--]-->Playlist ğŸ§<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">ğŸ§  Algorithm <span class="right arrow"></span></p><ul class="vp-sidebar-children" style="display:none;"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/algorithm/PythonTimeout.html" aria-label="Python ì‹œê°„ ì´ˆê³¼ ë°©ì§€ë¥¼ ìœ„í•œ íŒ"><!--[--><!--[--><!--]--><!--]-->Python ì‹œê°„ ì´ˆê³¼ ë°©ì§€ë¥¼ ìœ„í•œ íŒ<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/algorithm/std-vector.html" aria-label="C++ std::vector ì‚¬ìš©ë²• ì •ë¦¬"><!--[--><!--[--><!--]--><!--]-->C++ std::vector ì‚¬ìš©ë²• ì •ë¦¬<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/algorithm/vim.html" aria-label="Vim ì‚¬ìš© ë§¤ë‰´ì–¼"><!--[--><!--[--><!--]--><!--]-->Vim ì‚¬ìš© ë§¤ë‰´ì–¼<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/algorithm/1018.html" aria-label="1018ë²ˆ: ì²´ìŠ¤íŒ ë‹¤ì‹œ ì¹ í•˜ê¸°"><!--[--><!--[--><!--]--><!--]-->1018ë²ˆ: ì²´ìŠ¤íŒ ë‹¤ì‹œ ì¹ í•˜ê¸°<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/algorithm/1966.html" aria-label="1966ë²ˆ: í”„ë¦°í„° í"><!--[--><!--[--><!--]--><!--]-->1966ë²ˆ: í”„ë¦°í„° í<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page" data-v-e24f0054><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="_10-string-security" tabindex="-1"><a class="header-anchor" href="#_10-string-security"><span>10. String Security</span></a></h1><h1 id="strings" tabindex="-1"><a class="header-anchor" href="#strings"><span>Strings</span></a></h1><h2 id="character-strings" tabindex="-1"><a class="header-anchor" href="#character-strings"><span>Character Strings</span></a></h2><ul><li>í‘œì¤€ C ë¼ì´ë¸ŒëŸ¬ë¦¬ ì§€ì› <ul><li><code>char</code> íƒ€ì…ì˜ strings</li><li><code>wchar_t</code> íƒ€ì…ì˜ wide strings <img src="/assets/image-18-BIahFSuE.png" alt="alt text"></li></ul></li></ul><blockquote><p><strong>Figure 2.1.</strong> &quot;hello&quot;ì˜ ë¬¸ìì—´ í‘œí˜„</p></blockquote><h2 id="an-example" tabindex="-1"><a class="header-anchor" href="#an-example"><span>An Example</span></a></h2><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code class="language-c"><span class="line"><span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token keyword">int</span> array<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">size_t</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">dowork</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">int</span> dis<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">clear</span><span class="token punctuation">(</span>dis<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">/* ... */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="multibyte-character-set" tabindex="-1"><a class="header-anchor" href="#multibyte-character-set"><span>multibyte character set</span></a></h2><ul><li>basic execution character set <ul><li>26ê°œì˜ ëŒ€ë¬¸ì, 26ê°œì˜ ì†Œë¬¸ì ë“±</li></ul></li><li>UTF-8 <ul><li>A multibyte character set</li><li>Backward compatible</li><li>1 ~ 4 bytes</li></ul></li><li>String literals <ul><li><code>L&quot;xyz&quot;</code></li><li>Type <code>wchar_t</code></li></ul></li></ul><h2 id="strings-1" tabindex="-1"><a class="header-anchor" href="#strings-1"><span>Strings</span></a></h2><ul><li><code>const char s[3] = &quot;abc&quot;;</code><ul><li>Arrayì˜ í¬ê¸°ëŠ” 3</li><li>Trailing null byteëŠ” ìƒëµ</li><li><code>const char s[ ] = &quot;abc&quot;;</code></li></ul></li></ul><h2 id="strings-in-c" tabindex="-1"><a class="header-anchor" href="#strings-in-c"><span>Strings in C++</span></a></h2><ul><li><code>std::basic_string</code><ul><li>charactersì˜ ì‹œí€€ìŠ¤</li><li><code>string</code>ì€ template specialization <code>basic_string&lt;char&gt;</code>ì— ëŒ€í•œ typedef</li><li><code>wstring</code>ì€ template specialization <code>basic_string&lt;wchar_t&gt;</code>ì— ëŒ€í•œ typedef</li></ul></li><li>C++ string class <ul><li>ëª¨ë“  ì¼ë°˜ì ì¸ implementationì€ null-terminated</li><li>Win32 <code>LSA_UNICODE_STRING</code>ê³¼ ê°™ì€ ì¼ë¶€ ë‹¤ë¥¸ string typeì€ null-terminatedì¼ í•„ìš”ëŠ” ì—†ìŒ</li></ul></li></ul><h2 id="character-types" tabindex="-1"><a class="header-anchor" href="#character-types"><span>Character Types</span></a></h2><ul><li>three types <ul><li><code>char</code>, <code>signed char</code>, <code>unsigned char</code></li></ul></li><li>Philosophy <ul><li>signed char and unsigned char <ul><li>ì‘ì€ ì •ìˆ˜ê°’ì— ì í•©</li></ul></li><li>plain char <ul><li>ë¬¸ìì—´ ë¦¬í„°ëŸ´ì˜ ê°ê° ìš”ì†Œë“¤ì˜ íƒ€ì…</li><li>ì •ìˆ˜ ë°ì´í„° ëŒ€ì‹  ë¬¸ì(character) ë°ì´í„°ë¥¼ ìœ„í•´ ì‚¬ìš© (ë¶€í˜¸ì˜ ì˜ë¯¸ê°€ ì ì€)</li></ul></li></ul></li><li>Example</li></ul><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code class="language-c"><span class="line"><span class="token class-name">size_t</span> len<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">char</span> cstr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;char string&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">signed</span> <span class="token keyword">char</span> scstr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;signed char string&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">unsigned</span> <span class="token keyword">char</span> ucstr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;unsigned char string&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>cstr<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>scstr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* warns when char is unsigned */</span></span>
<span class="line">len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>ucstr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* warns when char is signed */</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="int" tabindex="-1"><a class="header-anchor" href="#int"><span><code>int</code></span></a></h2><ul><li><code>EOF</code> (ìŒìˆ˜ ê°’)</li><li>ë˜ëŠ” <code>unsigned char</code>ë¡œ í•´ì„ëœ <code>char data</code></li><li><code>int</code>ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ <ul><li><code>fgetc()</code>, <code>getc()</code>, <code>getchar()</code>, <code>fgetwc()</code>, <code>getwc()</code>, <code>getwchar()</code></li></ul></li><li><code>&lt;ctype.h&gt;</code>ì— ì„ ì–¸ëœ char classification functions <ul><li><code>int</code>ë¥¼ ì¸ìˆ˜ë¡œ í—ˆìš©</li><li>ì˜ˆ: <code>isalpha()</code></li></ul></li></ul><h2 id="example" tabindex="-1"><a class="header-anchor" href="#example"><span>Example</span></a></h2><ul><li>Code Example ë¶„ì„<div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code class="language-cpp"><span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token char">&#39;a&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">char</span> b<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> â€œaâ€<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">wchar_t</span> wc<span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot; size of &#39;a&#39;: %d \n&quot;</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token char">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot; size of c: %d \n&quot;</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot; size of wc: %d \n&quot;</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>wc<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>Cì—ì„œ sizeof(&#39;a&#39;) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> ???, sizeof(c) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> ???</li><li>C++ì—ì„œ sizeof(&#39;a&#39;) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> ???</li></ul><h2 id="unsigned-char" tabindex="-1"><a class="header-anchor" href="#unsigned-char"><span>unsigned char</span></a></h2><ul><li>ê°ì²´ê°€ ì–´ë–¤ typeì´ë“  ë  ìˆ˜ ìˆì„ ë•Œ ìœ ìš©</li><li><code>fwrite()</code></li><li>Pure binary notationì„ ì‚¬ìš©í•˜ì—¬ í‘œí˜„ë¨ì´ ë³´ì¥</li></ul><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code class="language-cpp"><span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">unsigned</span> <span class="token keyword">char</span> buf1<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0xff</span><span class="token punctuation">,</span> <span class="token number">0x56</span><span class="token punctuation">,</span> <span class="token number">0x78</span><span class="token punctuation">,</span> <span class="token number">0xfa</span><span class="token punctuation">,</span> <span class="token number">0xf1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">unsigned</span> <span class="token keyword">char</span> buf2<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    FILE <span class="token operator">*</span>stream<span class="token punctuation">;</span></span>
<span class="line">    stream <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span>â€œout<span class="token punctuation">.</span>datâ€<span class="token punctuation">,</span> â€œwbâ€<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">fwrite</span><span class="token punctuation">(</span>buf1<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> stream<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">fclose</span><span class="token punctuation">(</span>stream<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    stream <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span>â€œout<span class="token punctuation">.</span>datâ€<span class="token punctuation">,</span> â€œrbâ€<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">fread</span><span class="token punctuation">(</span>buf2<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> stream<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">fclose</span><span class="token punctuation">(</span>stream<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">6</span> <span class="token operator">&amp;&amp;</span> buf2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token function">printf</span><span class="token punctuation">(</span>â€œ<span class="token operator">%</span>x â€œ<span class="token punctuation">,</span> buf2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">printf</span><span class="token punctuation">(</span>â€œ\nâ€<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="sizing-strings" tabindex="-1"><a class="header-anchor" href="#sizing-strings"><span>Sizing Strings</span></a></h2><ul><li>Buffer overflowsë¥¼ ì˜ˆë°©í•˜ê¸° ìœ„í•´ í•„ìˆ˜</li><li>The CERT C Secure Coding Standard <ul><li><code>STR31-C</code>. stringsìš© ì €ì¥ ê³µê°„ì´ character dataì™€ null terminatorë¥¼ ìœ„í•œ ì¶©ë¶„í•œ ê³µê°„ì„ ê°–ë„ë¡ ë³´ì¥</li></ul></li><li>ìš©ì–´ <ul><li>Size: arrayì— í• ë‹¹ëœ byte ìˆ˜ (<code>sizeof(array)</code>ì™€ ë™ì¼)</li><li>Count: arrayì˜ element ìˆ˜ (Visual Studio 2010ì˜ <code>_countof(array)</code>ì™€ ë™ì¼)</li><li>Length: null terminator ì•ì˜ character ìˆ˜ (<code>strlen()</code> ê²°ê³¼)</li></ul></li></ul><h2 id="example-1" tabindex="-1"><a class="header-anchor" href="#example-1"><span>Example</span></a></h2><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code class="language-cpp"><span class="line"><span class="token keyword">wchar_t</span> wide_str1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> Lâ€<span class="token number">0123456789</span>â€<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">wchar_t</span> <span class="token operator">*</span>wide_str2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">wchar_t</span> <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span> <span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span>wide_str1<span class="token punctuation">)</span> <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>wide_str2 <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* handle error */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token function">strcpy</span><span class="token punctuation">(</span>wide_str2<span class="token punctuation">,</span> wide_str1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">/* â€¦ */</span></span>
<span class="line"><span class="token function">free</span><span class="token punctuation">(</span>wide_str2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">wide_str2 <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="common-string-manipulation-errors" tabindex="-1"><a class="header-anchor" href="#common-string-manipulation-errors"><span>Common String Manipulation Errors</span></a></h2><ul><li>4ê°€ì§€ ì¼ë°˜ì ì¸ ì˜¤ë¥˜ <ul><li><strong>unbounded string copies</strong> (ë¬´í•œ string ë³µì‚¬)</li><li><strong>off-by-one errors</strong></li><li>null-termination errors</li><li>string truncation</li></ul></li></ul><h2 id="improperly-bounded-string-copies" tabindex="-1"><a class="header-anchor" href="#improperly-bounded-string-copies"><span>Improperly Bounded String Copies</span></a></h2><ul><li>ë°ì´í„°ê°€ ê³ ì •ëœ ê¸¸ì´ì˜ ë¬¸ìì—´ë¡œë¶€í„° ë³µì‚¬ë  ë•Œ <ul><li>ì˜ˆ: ê³ ì •ëœ ê¸¸ì´ ë²„í¼ì— í‘œì¤€ ì…ë ¥ìœ¼ë¡œ ì½ì–´ì˜¤ëŠ” ê²½ìš°</li></ul></li><li><code>gets()</code> C99ì— ì¶”ê°€ë˜ì—ˆìœ¼ë‚˜ C11ì—ì„œ ì œê±°</li><li>&quot;STR35-C. unbounded sourceì—ì„œë¶€í„° ê³ ì • ê¸¸ì´ ë°°ì—´ì— ë³µì‚¬í•˜ì§€ ë§ˆì‹­ì‹œì˜¤.&quot;</li></ul><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code class="language-c"><span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span></span>
<span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">get_y_or_n</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">char</span> response<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">puts</span><span class="token punctuation">(</span><span class="token string">&quot;Continue? [y] n: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">gets</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">&#39;n&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>Example 2.1.</strong> Reading from <code>stdin()</code></p></blockquote><h2 id="sprintf-function" tabindex="-1"><a class="header-anchor" href="#sprintf-function"><span><code>sprintf()</code> function</span></a></h2><ul><li>arrayì— outputì„ ì‘ì„±</li><li>ì‘ì„±ëœ characterì˜ ëì— null characterê°€ ì‘ì„±</li><li>target arrayì— í•„ìš”í•œ ìµœëŒ€ í¬ê¸°ë¥¼ ê²°ì •í•˜ê¸° ì–´ë ¤ì›€ <ul><li>ì˜ˆ: <code>INT_MAX</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> ìµœì†Œ 11 characters</li><li>ìŒì˜ ì •ìˆ˜, floating-point valuesëŠ” ì˜ˆì¸¡ì´ ë” ì–´ë ¤ì›€</li></ul></li><li><code>snprintf()</code> í•¨ìˆ˜ <ul><li>ì¶”ê°€ parameter: <code>size_t n</code></li><li>null charê°€ ì¶”ê°€ë˜ë¯€ë¡œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> charactersê°€ ì‘ì„±</li><li>ì„±ê³µ ì‹œ ì‘ì„±ëœ character ìˆ˜ (excluding null char) ë°˜í™˜</li><li>ë¹„êµì  ì•ˆì „í•˜ì§€ë§Œ, format string vulnerabilitiesì— ì·¨ì•½</li></ul></li></ul><h2 id="c-á„‹á…´-std-cin" tabindex="-1"><a class="header-anchor" href="#c-á„‹á…´-std-cin"><span>C++ì˜ <code>std::cin</code></span></a></h2><ul><li>ì´ ë˜í•œ ë¬¸ì œì  ìˆìŒ</li></ul><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code class="language-cpp"><span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> buf<span class="token punctuation">;</span></span>
<span class="line">  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;echo: &quot;</span> <span class="token operator">&lt;&lt;</span> buf <span class="token operator">&lt;&lt;</span> <span class="token char">&#39;\n&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>field widthë¥¼ <code>ios_base::width</code> ë˜ëŠ” <code>setw()</code>ë¡œ ì„¤ì • ê°€ëŠ¥</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> charactersê°€ ì¶”ì¶œëœ í›„ null characterê°€ ìë™ìœ¼ë¡œ ì¶”ê°€ë¨</li></ul><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code class="language-cpp"><span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> buf<span class="token punctuation">;</span></span>
<span class="line">  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;echo: &quot;</span> <span class="token operator">&lt;&lt;</span> buf <span class="token operator">&lt;&lt;</span> <span class="token char">&#39;\n&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="off-by-one-errors" tabindex="-1"><a class="header-anchor" href="#off-by-one-errors"><span>Off-by-One Errors</span></a></h2><ul><li>ë˜ ë‹¤ë¥¸ ì¼ë°˜ì ì¸ ë¬¸ì œ</li><li>unbounded string copiesì™€ ìœ ì‚¬</li><li>Example</li></ul><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code class="language-c"><span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span></span>
<span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span></span>
<span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">char</span> s1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;012345678&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">char</span> s2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;0123456789&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">char</span> <span class="token operator">*</span>dest<span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">int</span> i<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">strcpy_s</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">,</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  dest <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span> <span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">11</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    dest<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  dest<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">&#39;\0&#39;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;dest = %s&quot;</span><span class="token punctuation">,</span> dest<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">/* ... */</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="null-termination-errors" tabindex="-1"><a class="header-anchor" href="#null-termination-errors"><span>Null-Termination Errors</span></a></h2><ul><li>Example</li></ul><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code class="language-c"><span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">char</span> a<span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">char</span> b<span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">char</span> c<span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">strncpy</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">&quot;0123456789abcdef&quot;</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">strncpy</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token string">&quot;0123456789abcdef&quot;</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">strncpy</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">/* ... */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>strncpy()</code>ëŠ” ì²˜ìŒ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> charactersë¥¼ ë³µì‚¬ <ul><li>Null-terminationì„ ë³´ì¥í•˜ì§€ ì•ŠìŒ</li></ul></li></ul><h2 id="string-vulnerabilities-and-exploits" tabindex="-1"><a class="header-anchor" href="#string-vulnerabilities-and-exploits"><span>String Vulnerabilities and Exploits</span></a></h2><ul><li>C ë˜ëŠ” C++ì—ì„œ String manipulation <ul><li>ì™¸ë¶€ sourceì˜ untrusted dataì—ì„œ ì‘ë™í•  ë•Œ ìœ„í—˜í•´ì§</li><li>ëª¨ë“  ì™¸ë¶€ ë°ì´í„°ë¥¼ untrustedë¡œ ë³´ëŠ” ê²ƒì´ ì•ˆì „</li></ul></li><li>Example</li></ul><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code class="language-c"><span class="line">bool <span class="token function">IsPasswordOK</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">char</span> Password<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">gets</span><span class="token punctuation">(</span>Password<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token number">0</span> <span class="token operator">==</span> <span class="token function">strcmp</span><span class="token punctuation">(</span>Password<span class="token punctuation">,</span> <span class="token string">&quot;goodpass&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  bool PwStatus<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">puts</span><span class="token punctuation">(</span><span class="token string">&quot;Enter password: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  PwStatus <span class="token operator">=</span> <span class="token function">IsPasswordOK</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>PwStatus <span class="token operator">==</span> false<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">puts</span><span class="token punctuation">(</span><span class="token string">&quot;Access denied&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">exit</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="buffer-overflows" tabindex="-1"><a class="header-anchor" href="#buffer-overflows"><span>Buffer Overflows</span></a></h2><ul><li>Example <img src="/assets/image-19-CCym7-uo.png" alt="alt text"></li><li>C ë° C++ê°€ buffer overflowsì— ì·¨ì•½í•œ ì´ìœ  <ul><li>stringsë¥¼ null-terminated arrays of charactersë¡œ ì •ì˜</li><li>ì•”ë¬µì ì¸ bounds checkingì„ ìˆ˜í–‰í•˜ì§€ ì•ŠìŒ</li><li>bounds checkingì„ ê°•ì œí•˜ì§€ ì•ŠëŠ” stringsì— ëŒ€í•œ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜¸ì¶œ ì œê³µ</li></ul></li></ul><h2 id="process-memory-organization" tabindex="-1"><a class="header-anchor" href="#process-memory-organization"><span>Process Memory Organization</span></a></h2><p><img src="/assets/image-20-CPV-0GuD.png" alt="alt text"></p><h2 id="programs-and-processes" tabindex="-1"><a class="header-anchor" href="#programs-and-processes"><span>Programs and Processes</span></a></h2><p><img src="/assets/image-21-B9sKGV4-.png" alt="alt text"></p><blockquote><p><strong>Figure 10.4</strong> Program Loading into Process Memory</p></blockquote><h2 id="stack-buffer-overflows" tabindex="-1"><a class="header-anchor" href="#stack-buffer-overflows"><span>Stack Buffer Overflows</span></a></h2><ul><li>Bufferê°€ stackì— ìœ„ì¹˜í•  ë•Œ ë°œìƒ <ul><li>stack smashingì´ë¼ê³ ë„ í•¨</li></ul></li><li>Morris Wormì— ì˜í•´ ì‚¬ìš© <ul><li>exploitsëŠ” unchecked buffer overflowë¥¼ í¬í•¨</li></ul></li><li>ì—¬ì „íˆ ë„ë¦¬ ì•…ìš©ë˜ê³  ìˆìŒ</li><li>Stack frame <ul><li>í•œ í•¨ìˆ˜ê°€ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ return addressë¥¼ ì €ì¥í•  ê³µê°„ í•„ìš”</li><li>í˜¸ì¶œëœ í•¨ìˆ˜ì— ì „ë‹¬ë  parametersì™€ register valuesë¥¼ ì €ì¥í•  ìœ„ì¹˜ë„ í•„ìš”</li></ul></li></ul><h2 id="stack-frame-with-functions-p-and-q" tabindex="-1"><a class="header-anchor" href="#stack-frame-with-functions-p-and-q"><span>Stack Frame with Functions P and Q</span></a></h2><p><img src="/assets/image-22-DheFt2RT.png" alt="alt text"></p><blockquote><p><strong>Figure 10.3</strong> Examples Stack Frame with Functions P and Q</p></blockquote><h2 id="stack-management" tabindex="-1"><a class="header-anchor" href="#stack-management"><span>Stack Management</span></a></h2><ul><li>Stackì€ automatic process-state dataë¥¼ ìœ ì§€í•˜ì—¬ program executionì„ ì§€ì› <img src="/assets/image-23-BFtQB0lJ.png" alt="alt text"><blockquote><p><strong>Figure 2.6.</strong> Stack management</p></blockquote></li><li>Stack frameì˜ ì •ë³´ <ul><li>return address</li><li>local variables</li><li>frame pointer</li></ul></li><li>(Disassembly using Intel Notation) <img src="/assets/image-24-B0UEDgKC.png" alt="alt text"></li><li><code>foo()</code> í•¨ìˆ˜ prologue</li><li><code>foo()</code> í•¨ìˆ˜ Epilogue</li><li><code>foo()</code> í˜¸ì¶œ í›„ Stack frame</li></ul><h2 id="stack-smashing" tabindex="-1"><a class="header-anchor" href="#stack-smashing"><span>Stack Smashing</span></a></h2><ul><li>Stack smashing <ul><li>Buffer overflowê°€ execution stackì— í• ë‹¹ëœ ë©”ëª¨ë¦¬ì˜ ë°ì´í„°ë¥¼ ë®ì–´ì“¸ ë•Œ ë°œìƒ</li><li>Stack segmentì˜ buffer overflowëŠ” ê³µê²©ìê°€ arbitrary codeë¥¼ ì‹¤í–‰í•˜ë„ë¡ ìœ ë„ ê°€ëŠ¥</li></ul></li><li>Example</li><li>Corrupted program stack</li><li>Carefully crafted input string <ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi><mo>=</mo><mn>0</mn><mi>x</mi><mn>6</mn><mi>A</mi></mrow><annotation encoding="application/x-tex">j = 0x6A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">0</span><span class="mord mathnormal">x</span><span class="mord">6</span><span class="mord mathnormal">A</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mn>0</mn><mi>x</mi><mn>10</mn></mrow><annotation encoding="application/x-tex">= 0x10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mord mathnormal">x</span><span class="mord">10</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ—</mo><mo>=</mo><mn>0</mn><mi>x</mi><mn>2</mn><mi>A</mi></mrow><annotation encoding="application/x-tex">* = 0x2A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4653em;"></span><span class="mord">âˆ—</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">0</span><span class="mord mathnormal">x</span><span class="mord">2</span><span class="mord mathnormal">A</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">!</mo><mo>=</mo><mn>0</mn><mi>x</mi><mn>21</mn></mrow><annotation encoding="application/x-tex">! = 0x21</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mord mathnormal">x</span><span class="mord">21</span></span></span></span></li></ul></li><li>Corrupted program stack</li></ul><h2 id="code-injection" tabindex="-1"><a class="header-anchor" href="#code-injection"><span>Code Injection</span></a></h2><ul><li>Return addressê°€ ë®ì–´ì“°ì—¬ì§ˆ ë•Œ <ul><li>ì œì–´ íë¦„ì„ ìƒˆ ì£¼ì†Œë¡œ ì „ë‹¬í•˜ëŠ” ê²ƒì€ ì¼ë°˜ì ìœ¼ë¡œ trapì„ ìœ ë°œí•˜ê³  corrupted stackì„ ì´ˆë˜</li><li>ê³µê²©ìê°€ ì•…ì„± codeì— ëŒ€í•œ pointerë¥¼ í¬í•¨í•˜ëŠ” specially crafted stringì„ ìƒì„±í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥</li><li>ì•…ì„± codeëŠ” ì·¨ì•½í•œ programì´ ê°€ì§„ ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰</li></ul></li><li>Malicious arguments <ul><li>ì·¨ì•½í•œ programì— ì˜í•´ legitimate inputìœ¼ë¡œ ìˆ˜ìš©ë˜ì–´ì•¼ í•¨</li><li>ë‹¤ë¥¸ ì œì–´ ê°€ëŠ¥í•œ ì…ë ¥ê³¼ í•¨ê»˜ ì¸ìˆ˜ê°€ ì·¨ì•½í•œ code pathì˜ ì‹¤í–‰ì„ ì´ˆë˜í•´ì•¼ í•¨</li><li>Shellcodeë¡œ ì œì–´ê°€ ì „ë‹¬ë˜ê¸° ì „ì— ì¸ìˆ˜ê°€ programì„ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œì‹œí‚¤ì§€ ì•Šì•„ì•¼ í•¨</li></ul></li></ul><h2 id="code-injection-1" tabindex="-1"><a class="header-anchor" href="#code-injection-1"><span>Code Injection</span></a></h2><ul><li>Example <ul><li><code>./BufferOverflow &lt; exploit.bin</code></li></ul></li></ul><h2 id="code-injection-2" tabindex="-1"><a class="header-anchor" href="#code-injection-2"><span>Code Injection</span></a></h2><ul><li>Example (<code>execve()</code> system callì„ ì´ìš©í•œ ì˜ˆì‹œ) <ol><li>ì²« ë²ˆì§¸ <code>mov</code> instructionì€ %eax registerì— <code>0xB</code> í• ë‹¹</li><li><code>execve()</code> í•¨ìˆ˜ í˜¸ì¶œì„ ìœ„í•œ ì„¸ ì¸ìˆ˜ëŠ” í›„ì† ì„¸ instructionsì—ì„œ ì„¤ì •</li><li><code>int $0x50</code> instructionì€ <code>execve()</code>ë¥¼ í˜¸ì¶œí•˜ì—¬ Linux calendar programì„ ì‹¤í–‰</li></ol></li></ul><h2 id="code-injection-3" tabindex="-1"><a class="header-anchor" href="#code-injection-3"><span>Code Injection</span></a></h2><ul><li>Modified Example <ul><li><code>gets()</code> ëŒ€ì‹  <code>fgets()</code> ì‚¬ìš©</li><li>Buffer overflowê°€ ì—¬ì „íˆ ë°œìƒí•  ìˆ˜ ìˆìŒ</li></ul></li></ul><h2 id="code-injection-4" tabindex="-1"><a class="header-anchor" href="#code-injection-4"><span>Code Injection</span></a></h2><ul><li>Modified Example <ul><li>Exploit Code</li><li>Corrupted Stack</li></ul></li></ul><h2 id="arc-injection" tabindex="-1"><a class="header-anchor" href="#arc-injection"><span>Arc Injection</span></a></h2><ul><li>Arc injection technique <ul><li>ì´ë¯¸ process memoryì— ì¡´ì¬í•˜ëŠ” codeë¡œ ì œì–´ë¥¼ ì „ë‹¬</li><li>ìƒˆë¡œìš´ arc (control-flow transfer) ì‚½ì…</li><li><code>system()</code> ë˜ëŠ” <code>exec()</code>ì„ ì‚¬ìš©í•˜ì—¬ commands ì‹¤í–‰ ê°€ëŠ¥</li><li>ì—¬ëŸ¬ í•¨ìˆ˜ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ í˜¸ì¶œ ê°€ëŠ¥</li></ul></li></ul><h2 id="arc-injection-1" tabindex="-1"><a class="header-anchor" href="#arc-injection-1"><span>Arc Injection</span></a></h2><ul><li>ê³µê²©ìê°€ code injectionë³´ë‹¤ arc injectionì„ ì„ í˜¸í•  ìˆ˜ ìˆëŠ” ì´ìœ  <ul><li>ëŒ€ìƒ ì‹œìŠ¤í…œì˜ ë©”ëª¨ë¦¬ì— ì´ë¯¸ codeê°€ ì¡´ì¬</li><li>Footprintë¥¼ í˜„ì €íˆ ì‘ê²Œ ìœ ì§€ ê°€ëŠ¥</li><li>Memory-based protection schemesë¡œ ë³´í˜¸í•  ìˆ˜ ì—†ìŒ</li></ul></li><li>Example</li></ul><h2 id="mitigation-strategies-for-strings" tabindex="-1"><a class="header-anchor" href="#mitigation-strategies-for-strings"><span>Mitigation Strategies for Strings</span></a></h2><h2 id="mitigation-strategies" tabindex="-1"><a class="header-anchor" href="#mitigation-strategies"><span>Mitigation Strategies</span></a></h2><ul><li>ì—¬ëŸ¬ ì „ëµì„ ê²°í•©í•˜ëŠ” defense-in-depth tactic ì±„íƒ <ul><li>String handlingì— ëŒ€í•œ secure technique + í•˜ë‚˜ ì´ìƒì˜ runtime detection</li></ul></li><li>String handling <ul><li>character strings ì²˜ë¦¬ì— ëŒ€í•œ ë‹¨ì¼ ì ‘ê·¼ ë°©ì‹ ì„ íƒ ê¶Œì¥</li><li>String-handling functionsëŠ” ë©”ëª¨ë¦¬ ê´€ë¦¬ ë°©ì‹ì— ë”°ë¼ ë¶„ë¥˜ <ul><li>Caller allocates, caller frees (C99, OpenBSD, C11 Annex K)</li><li>Callee allocates, caller frees (ISO/IEC TR 24731-2)</li><li>Callee allocates, callee frees (C++ <code>std::basic_string</code>)</li></ul></li></ul></li></ul><h2 id="c11-annex-k-bounds-checking" tabindex="-1"><a class="header-anchor" href="#c11-annex-k-bounds-checking"><span>C11 Annex K Bounds-Checking</span></a></h2><ul><li>ì²« ë²ˆì§¸ ë©”ëª¨ë¦¬ ê´€ë¦¬ model (caller allocates, caller frees)</li><li>C11 Annex K <ul><li>ëŒ€ì•ˆì ì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ í•¨ìˆ˜ ì œê³µ</li><li>output buffersê°€ ì˜ë„í•œ ê²°ê³¼ë¥¼ ë‹´ì„ ë§Œí¼ ì¶©ë¶„íˆ í°ì§€ í™•ì¸</li><li>ì¶©ë¶„í•˜ì§€ ì•Šìœ¼ë©´ failure indicator ë°˜í™˜</li><li>ëª¨ë“  string resultsëŠ” null-terminated</li><li>ì˜ˆ: <code>strcpy_s()</code>, <code>strcat_s()</code>, <code>strncpy_s()</code>, <code>strncat_s()</code>, ... ì •ì˜</li><li>ISO/IEC TR 24731-1ë¡œ ê²Œì‹œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> ë‚˜ì¤‘ì— C11ì— optional extensions ì„¸íŠ¸ë¡œ í†µí•©</li><li><code>__STDC_LIB_EXT1__</code> macro ì •ì˜ í•„ìš”</li><li>C11 Annex KëŠ” normativeì´ì§€ë§Œ optimal annex</li><li><code>gcc</code>ì—ì„œëŠ” implementedë˜ì§€ ì•ŠìŒ</li><li>ìœ íš¨í•˜ì§€ ì•Šì€ í¬ê¸°ê°€ í•¨ìˆ˜ì— ì „ë‹¬ë˜ë©´ buffer overflow problemsë¥¼ ê²ªì„ ìˆ˜ ìˆìŒ</li></ul></li></ul><h2 id="c11-annex-k" tabindex="-1"><a class="header-anchor" href="#c11-annex-k"><span>C11 Annex K</span></a></h2><ul><li>Example: gets_s()</li></ul><h2 id="runtime-constraint-handler-function" tabindex="-1"><a class="header-anchor" href="#runtime-constraint-handler-function"><span>Runtime-constraint-handler function</span></a></h2><ul><li>C11 Annex K <ul><li>ì˜¤ë¥˜ ê°ì§€ ì‹œ íŠ¹ìˆ˜ runtime-constraint-handler function í˜¸ì¶œ</li><li>ì˜¤ë¥˜ ë©”ì‹œì§€ ì¶œë ¥ ë°/ë˜ëŠ” program ì¤‘ë‹¨ ê°€ëŠ¥</li><li><code>set_constraint_handler_s()</code> í•¨ìˆ˜ë¥¼ í†µí•´ í˜¸ì¶œë˜ëŠ” handler function ì œì–´ ê°€ëŠ¥</li><li>&quot;ERR03-C. Use runtime-constraint handlers when calling functions defined by TR24731-1&quot; <ul><li>Implementation-defined behaviorë¥¼ ì œê±°í•˜ê¸° ìœ„í•´ runtime-constraint handler ì„¤ì¹˜ ê¶Œì¥</li></ul></li></ul></li></ul><h2 id="c11-annex-k-1" tabindex="-1"><a class="header-anchor" href="#c11-annex-k-1"><span>C11 Annex K</span></a></h2><ul><li>Example 2.6. <code>gets_s()</code> (Improved)</li></ul><h2 id="runtime-constraint-handler-function-1" tabindex="-1"><a class="header-anchor" href="#runtime-constraint-handler-function-1"><span>Runtime-constraint-handler function</span></a></h2><ul><li><code>ignore_handler_s()</code> í•¨ìˆ˜ë¡œ ì„¤ì •ëœ ê²½ìš° <ul><li>ëª¨ë“  ìœ„ë°˜ì€ callerì—ê²Œ ë°˜í™˜</li></ul></li><li>ëŒ€ë¶€ë¶„ì˜ bounds-checking functionsëŠ” nonzero <code>errno_t</code> ë°˜í™˜ <ul><li><code>gets_s()</code> í•¨ìˆ˜ëŠ” null pointer ë°˜í™˜ (compatibilityë¥¼ ìœ„í•´)</li></ul></li><li>&quot;ERR00-C. Adopt and implement a consistent and comprehensive error-handling policy&quot;</li><li>Original constraint handler <ul><li>ë¼ì´ë¸ŒëŸ¬ë¦¬ í•¨ìˆ˜ê°€ constraint handlerë¥¼ ì„¤ì •í•˜ëŠ” ê²½ìš°, í•¨ìˆ˜ëŠ” ë°˜í™˜ ë˜ëŠ” ì¢…ë£Œ ì „ì— original constraint handlerë¥¼ ë³µì›í•´ì•¼ í•¨</li></ul></li></ul><h2 id="dynamic-allocation-functions" tabindex="-1"><a class="header-anchor" href="#dynamic-allocation-functions"><span>Dynamic Allocation Functions</span></a></h2><ul><li>ë‘ ë²ˆì§¸ ë©”ëª¨ë¦¬ ê´€ë¦¬ model (callee allocates, caller frees) <ul><li>ISO/IEC TR 24731-2</li></ul></li><li>ì´ëŸ¬í•œ í•¨ìˆ˜ ì‚¬ìš©ì€ ë‚˜ì¤‘ì— buffersë¥¼ freeí•˜ê¸° ìœ„í•œ ì¶”ê°€ í˜¸ì¶œì´ í•„ìš”</li><li>ISO/IEC TR 24731-2ì— ì„¤ëª…ëœ í•¨ìˆ˜ëŠ” ë²„í¼ê°€ í•­ìƒ í•„ìš”í•œ ë°ì´í„°ë¥¼ ë‹´ì„ ìˆ˜ ìˆë„ë¡ ìë™ í¬ê¸° ì¡°ì • <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> ë” í° ë³´ì¥ ì œê³µ <ul><li>Denial-of-service attacksë¥¼ ê²ªì„ ìˆ˜ ìˆìŒ</li></ul></li></ul><h2 id="dynamic-allocation-functions-1" tabindex="-1"><a class="header-anchor" href="#dynamic-allocation-functions-1"><span>Dynamic Allocation Functions</span></a></h2><ul><li>Example: <code>getline()</code><ul><li>Bufferë¥¼ dynamically allocate</li><li>Bufferë¥¼ freeí•´ì•¼ í•¨</li></ul></li></ul><h2 id="string-stream" tabindex="-1"><a class="header-anchor" href="#string-stream"><span>String stream</span></a></h2><ul><li><code>fmemopen()</code>, <code>open_memstream()</code></li><li>í•¨ìˆ˜ prototypes</li></ul><h2 id="string-stream-1" tabindex="-1"><a class="header-anchor" href="#string-stream-1"><span>String stream</span></a></h2><ul><li><code>open_memstream()</code>ì— ì˜í•´ ì—´ë¦° streamì˜ ê²½ìš° <ul><li>write operationsë¥¼ ìˆ˜ìš©í•˜ê¸° ìœ„í•´ ë©”ëª¨ë¦¬ ì˜ì—­ì´ dynamically ì¦ê°€</li><li>CallerëŠ” í• ë‹¹ëœ ë©”ëª¨ë¦¬ë¥¼ freeí•´ì•¼ í•¨ (line 16)</li></ul></li><li>Dynamic allocationì€ safety-critical systemsì—ì„œ ì¢…ì¢… í—ˆìš©ë˜ì§€ ì•ŠìŒ</li><li>Example</li></ul><h2 id="c-std-basic-string" tabindex="-1"><a class="header-anchor" href="#c-std-basic-string"><span>C++ std::basic_string</span></a></h2><ul><li>C++ extraction operator <code>operator&gt;&gt;</code><ul><li>Field widthë¥¼ ì„¤ì •í•˜ì—¬ buffer overflow vulnerability ì œê±°</li><li>Truncation ë¬¸ì œ</li><li>ì˜ˆìƒì¹˜ ëª»í•œ program behaviorê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ</li></ul></li><li>ISO/IEC 14882ì— ì •ì˜ëœ í‘œì¤€ <code>std::string class</code><ul><li>type <code>char</code>ì— ëŒ€í•œ <code>std::basic_string template</code>ì˜ specialization</li></ul></li><li><code>basic_string class</code><ul><li>stringsì— ëŒ€í•œ dynamic approach ì‚¬ìš©</li><li>&quot;callee allocates, callee frees&quot; ë©”ëª¨ë¦¬ ê´€ë¦¬ ì „ëµ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> ê°€ì¥ ì•ˆì „í•œ ì ‘ê·¼ ë°©ì‹</li></ul></li><li>Example</li></ul><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code class="language-cpp"><span class="line">string str1 <span class="token operator">=</span> â€œhello<span class="token punctuation">,</span> â€œ<span class="token punctuation">;</span></span>
<span class="line">string str2 <span class="token operator">=</span> â€œworldâ€<span class="token punctuation">;</span></span>
<span class="line">string str3 <span class="token operator">=</span> str1 <span class="token operator">+</span> str2<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="basic-string" tabindex="-1"><a class="header-anchor" href="#basic-string"><span>basic_string</span></a></h2><ul><li>Example: <code>std::cin</code></li></ul><h2 id="basic-string-1" tabindex="-1"><a class="header-anchor" href="#basic-string-1"><span>basic_string</span></a></h2><ul><li>Subscript member std::string::operator[] <ul><li>Exceptionì„ ë˜ì§€ì§€ ì•ŠìŒ</li><li>Example<div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code class="language-cpp"><span class="line">string <span class="token function">bs</span><span class="token punctuation">(</span>â€œ<span class="token number">01234567</span>â€<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">size_t i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></span>
<span class="line">bs<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> â€˜\<span class="token number">0</span>â€™<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><code>at()</code> method <ul><li><code>operator[]</code>ì™€ ìœ ì‚¬í•˜ì§€ë§Œ, <code>pos &gt;= size()</code>ì´ë©´ out_of_range exception ë°œìƒ</li></ul></li><li>Example <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> <code>std:out_of_range</code></li></ul><h2 id="basic-string-2" tabindex="-1"><a class="header-anchor" href="#basic-string-2"><span>basic_string</span></a></h2><ul><li>Stringì„ null-terminated byte stringìœ¼ë¡œ ë³€í™˜ <ul><li><code>c_str()</code> method</li></ul></li><li>Example<div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code class="language-cpp"><span class="line">string <span class="token function">str</span><span class="token punctuation">(</span>â€œabcdâ€<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">cout <span class="token operator">&lt;&lt;</span> <span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="string-handling-functions" tabindex="-1"><a class="header-anchor" href="#string-handling-functions"><span>String-Handling Functions</span></a></h2><h2 id="string-handling-functions-1" tabindex="-1"><a class="header-anchor" href="#string-handling-functions-1"><span>String-Handling Functions</span></a></h2><ul><li><code>gets()</code><ul><li>ì ˆëŒ€ <code>gets()</code> í•¨ìˆ˜ í˜¸ì¶œ ê¸ˆì§€</li><li>ì¢…ë£Œ newline ë˜ëŠ” <code>EOF</code>ê°€ ë°œê²¬ë  ë•Œê¹Œì§€ í‘œì¤€ ì…ë ¥ì—ì„œ bufferë¡œ í•œ ì¤„ì„ ì½ìŒ</li><li>C11ì—ì„œ ì œê±°</li></ul></li><li>ëŒ€ì²´ í•¨ìˆ˜ <ul><li>C99: <code>fgets()</code> ë˜ëŠ” <code>getchar()</code></li></ul></li></ul><h2 id="string-handling-functions-2" tabindex="-1"><a class="header-anchor" href="#string-handling-functions-2"><span>String-Handling Functions</span></a></h2><ul><li>Example 2.9. <code>fgets()</code><ul><li>Newline char ì œê±° í•„ìš”</li></ul></li></ul><h2 id="fgets-and-getchar" tabindex="-1"><a class="header-anchor" href="#fgets-and-getchar"><span><code>fgets()</code> and <code>getchar()</code></span></a></h2><ul><li><code>fgets()</code><ul><li>Newline characterë¥¼ ìœ ì§€</li><li>Truncation: ì‚¬ìš©ì ì…ë ¥ì´ ì˜ë¦´ ìˆ˜ ìˆìŒ</li><li>ì…ë ¥í•  character ìˆ˜ê°€ destination bufferì˜ ê¸¸ì´ë³´ë‹¤ í¬ë©´ buffer overflow ë°œìƒ ê°€ëŠ¥</li></ul></li><li><code>getchar()</code><ul><li>stdinì´ ê°€ë¦¬í‚¤ëŠ” ì…ë ¥ streamì—ì„œ ë‹¤ìŒ character ë°˜í™˜</li><li>streamì´ EOFì— ìˆê±°ë‚˜ read error ë°œìƒ ì‹œ EOF ë°˜í™˜</li></ul></li></ul><h2 id="string-handling-functions-3" tabindex="-1"><a class="header-anchor" href="#string-handling-functions-3"><span>String-Handling Functions</span></a></h2><ul><li>Example 2.10. <code>getchar()</code><ul><li><code>int type</code> (not char type) ì‚¬ìš©</li></ul></li></ul><h2 id="c11-annext-k-gets-s" tabindex="-1"><a class="header-anchor" href="#c11-annext-k-gets-s"><span>C11 Annext K gets_s()</span></a></h2><ul><li>C11 <code>gets_s()</code> í•¨ìˆ˜ <ul><li><code>gets()</code>ì™€ í˜¸í™˜</li><li>ë” ì•ˆì „í•œ version</li><li>stdinì—ì„œ ì½ìŒ</li><li>Newline characterë¥¼ ìœ ì§€í•˜ì§€ ì•ŠìŒ</li></ul></li><li>ì˜¤ë¥˜ ë°œìƒ ì‹œ <ul><li>ì…ë ¥ ìˆ˜í–‰ ì•ˆ í•¨</li><li>Char array ìˆ˜ì • ì•ˆ í•¨</li></ul></li><li>ê·¸ ì™¸ì˜ ê²½ìš° <ul><li>ì§€ì •ëœ char ìˆ˜ë³´ë‹¤ ìµœëŒ€ í•˜ë‚˜ ì ê²Œ ì½ìŒ</li><li>ë§ˆì§€ë§‰ char ë‹¤ìŒì— null char ì‘ì„±</li></ul></li><li><code>gets_s()</code> í•¨ìˆ˜ <ul><li>ì™„ì „í•œ í•œ ì¤„ì„ ì½ì„ ë•Œë§Œ ì„±ê³µ</li><li>ì™„ì „í•œ ì¤„ì„ ì½ì„ ìˆ˜ ì—†ìœ¼ë©´ NULL ë°˜í™˜, bufferë¥¼ null stringìœ¼ë¡œ ì„¤ì •, ì…ë ¥ streamì„ ë‹¤ìŒ newline charê¹Œì§€ ì •ë¦¬</li></ul></li></ul><h2 id="dynamic-allocation-functions-2" tabindex="-1"><a class="header-anchor" href="#dynamic-allocation-functions-2"><span>Dynamic Allocation Functions</span></a></h2><ul><li><code>getline()</code> í•¨ìˆ˜ <ul><li>ISO/IEC TR 24731-2ì— ì„¤ëª…</li><li><code>fgets()</code>ì™€ ìœ ì‚¬í•˜ì§€ë§Œ ì¶”ê°€ ê¸°ëŠ¥ í¬í•¨ <ul><li>Destination bufferë¥¼ dynamically resize</li><li>ì½ì€ character ìˆ˜ ë°˜í™˜</li></ul></li><li>Destination bufferê°€ <code>malloc()</code>ìœ¼ë¡œ í• ë‹¹ëœ ê²½ìš°ì—ë§Œ ì‘ë™</li><li>ì‚¬ìš©ìëŠ” ë‚˜ì¤‘ì— bufferë¥¼ ëª…ì‹œì ìœ¼ë¡œ <code>free()</code>í•´ì•¼ í•¨</li></ul></li></ul><h2 id="string-handling-functions-4" tabindex="-1"><a class="header-anchor" href="#string-handling-functions-4"><span>String-Handling Functions</span></a></h2><ul><li>Example 2.12. <code>getline()</code></li></ul><h2 id="alternative-functions-for-gets" tabindex="-1"><a class="header-anchor" href="#alternative-functions-for-gets"><span>Alternative functions for <code>gets()</code></span></a></h2><ul><li>Table 2.4 ìš”ì•½</li></ul><h2 id="strcpy-and-strcat" tabindex="-1"><a class="header-anchor" href="#strcpy-and-strcat"><span><code>strcpy()</code> and <code>strcat()</code></span></a></h2><h2 id="strcpy-and-strcat-1" tabindex="-1"><a class="header-anchor" href="#strcpy-and-strcat-1"><span><code>strcpy()</code> and <code>strcat()</code></span></a></h2><ul><li><code>C99</code><ul><li>C í‘œì¤€ <code>strncpy()</code> í•¨ìˆ˜ê°€ ì¢…ì¢… ëŒ€ì•ˆìœ¼ë¡œ ê¶Œì¥</li><li><code>strncpy()</code>ëŠ” null-termination errors ë° ê¸°íƒ€ ë¬¸ì œì— ì·¨ì•½</li></ul></li><li>OpenBSD <ul><li><code>strlcpy()</code> ë° <code>strlcat()</code></li><li>size parameterë¡œ destination stringì˜ ì „ì²´ í¬ê¸° ì‚¬ìš©</li><li>destination stringì´ null-terminatedì„ì„ ë³´ì¥</li><li>ìƒì„±í•˜ë ¤ê³  ì‹œë„í•œ stringì˜ ì´ ê¸¸ì´ ë°˜í™˜</li></ul></li></ul><h2 id="c11-annex-k-bounds-checking-interfaces" tabindex="-1"><a class="header-anchor" href="#c11-annex-k-bounds-checking-interfaces"><span>C11 Annex K Bounds-Checking interfaces</span></a></h2><ul><li><code>strcpy_s()</code> ë° <code>strcat_s()</code><ul><li>ì„±ê³µ ì‹œ <code>0</code> ë°˜í™˜</li><li>ê·¸ ì™¸ì˜ ê²½ìš° nonzero value ë°˜í™˜</li><li>ë‹¤ì–‘í•œ runtime constraints ê°•ì œ <ul><li>s1 ë˜ëŠ” s2ê°€ null pointerì¸ ê²½ìš°</li><li>destination bufferì˜ í¬ê¸°ê°€ <code>0</code>, <code>RSIZE_MAX</code>ë³´ë‹¤ í¬ê±°ë‚˜, source stringì˜ ê¸¸ì´ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ê²½ìš°</li></ul></li></ul></li></ul><h2 id="string-copy-functions" tabindex="-1"><a class="header-anchor" href="#string-copy-functions"><span>String copy functions</span></a></h2><ul><li>Table 2.5.</li><li>Table 2.6.</li></ul><h2 id="strncpy-and-strncat" tabindex="-1"><a class="header-anchor" href="#strncpy-and-strncat"><span>strncpy() and strncat()</span></a></h2><ul><li><code>size_t parameter n</code> ì¶”ê°€</li><li><code>strncpy()</code><ul><li>destination stringì˜ null-terminateë¥¼ ë³´ì¥í•˜ì§€ ì•ŠìŒ</li><li>string termination errorsì— ì·¨ì•½</li></ul></li><li><code>strncat(s1, s2, n)</code><ul><li>s1 bufferì˜ ìµœì†Œ í¬ê¸°ëŠ” <code>strlen(s1) + n + 1</code>ì´ì–´ì•¼ í•¨</li><li><code>strncat()</code>ì˜ ë§ˆì§€ë§‰ ì¸ìˆ˜ëŠ” ì´ buffer lengthê°€ ì•„ë‹ˆì–´ì•¼ í•¨</li><li><code>strncat(dest, source, dest_size â€“ strlen(dest) â€“ 1)</code></li></ul></li><li>ê²°ê³¼ stringì´ ì˜ë¦´ ë•Œ status code ì—†ìŒ</li></ul><h2 id="strncpy-s-and-strncat-s" tabindex="-1"><a class="header-anchor" href="#strncpy-s-and-strncat-s"><span><code>strncpy_s()</code> and <code>strncat_s()</code></span></a></h2><ul><li><code>strncpy_s()</code><ul><li>Runtime-constraint violation ë°œìƒ ì‹œ destination arrayëŠ” empty stringìœ¼ë¡œ ì„¤ì •</li><li>Null terminator ì¶”ê°€ë¨</li><li>ì„±ê³µì„ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ <code>0</code> ë°˜í™˜</li><li>ì…ë ¥ ì¸ìˆ˜ê°€ ìœ íš¨í•˜ì§€ ì•Šìœ¼ë©´ nonzero value ë°˜í™˜</li><li>No truncation</li></ul></li></ul><h2 id="strncpy-s" tabindex="-1"><a class="header-anchor" href="#strncpy-s"><span><code>strncpy_s()</code></span></a></h2><ul><li>Example <ul><li><code>r1 = strncpy_s(dst1, sizeof(dst1), src1, sizeof(src1));</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> <code>r1 = 0, dst1 = â€œhello\0â€</code></li><li><code>r2 = strncpy_s(dst2, sizeof(dst2), src2, 4);</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> <code>r2 = 0, dst2 = â€œgood\0â€</code></li><li><code>r3 = strncpy_s(dst3, sizeof(dst3), src1, sizeof(src1));</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> <code>r3 = nonzero value, dst3[0] = â€˜\0â€™</code></li></ul></li></ul><h2 id="summary-of-strcpy-and-strcat" tabindex="-1"><a class="header-anchor" href="#summary-of-strcpy-and-strcat"><span>Summary of <code>strcpy()</code> and <code>strcat()</code></span></a></h2><ul><li>ìš”ì•½ tables</li></ul><h2 id="runtime-protection-strategies" tabindex="-1"><a class="header-anchor" href="#runtime-protection-strategies"><span>Runtime Protection Strategies</span></a></h2><h2 id="runtime-protection-strategies-1" tabindex="-1"><a class="header-anchor" href="#runtime-protection-strategies-1"><span>Runtime Protection Strategies</span></a></h2><ul><li>Programmerê°€ ë¶ˆì™„ì „í•œ detection and recovery strategyë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í–ˆë‹¤ê³  ë¯¿ì„ ìœ„í—˜</li><li>Buffer overflow mitigation strategies <ul><li>Mitigation mechanismì„ ì œê³µí•˜ëŠ” ì‹œìŠ¤í…œì˜ componentì— ë”°ë¼ ë¶„ë¥˜ ê°€ëŠ¥ <ul><li>ê°œë°œì (ì…ë ¥ validationì„ í†µí•´)</li><li>Compiler ë° ê´€ë ¨ runtime system</li><li>Operating system</li></ul></li></ul></li></ul><h2 id="input-validation" tabindex="-1"><a class="header-anchor" href="#input-validation"><span>Input validation</span></a></h2><ul><li>Buffer overflowsë¥¼ ì™„í™”í•˜ëŠ” ê°€ì¥ ì¢‹ì€ ë°©ë²•</li><li>Trust boundaryë¥¼ ë„˜ì–´ program interfaceì— ë„ë‹¬í•˜ëŠ” ëª¨ë“  ë°ì´í„°ëŠ” validation í•„ìš” <ul><li>ì˜ˆ: <code>argv</code> ë° <code>argc</code>, environment variables, sockets/files/devicesì—ì„œ ì½ì€ ë°ì´í„°</li></ul></li></ul><h2 id="object-size-checking" tabindex="-1"><a class="header-anchor" href="#object-size-checking"><span>Object Size Checking</span></a></h2><ul><li>GCC <ul><li>Pointerê°€ ê°€ë¦¬í‚¤ëŠ” ê°ì²´ì˜ í¬ê¸°ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ì œí•œëœ ê¸°ëŠ¥ ì œê³µ</li><li>GCC 4.1: <code>size_t __builtin_object_size(void *ptr, int type)</code><ul><li><code>ptr</code>: ê°ì²´ì˜ ì‹œì‘ ë¶€ë¶„ì„ ê°€ë¦¬ì¼œì•¼ í•¨</li><li><code>type</code>: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>âˆ¼</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">0 \sim 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> ë˜ëŠ” <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>: ì°¸ì¡°ëœ ê°ì²´ëŠ” ê°€ë¦¬í‚¤ëŠ” byteë¥¼ í¬í•¨í•˜ëŠ” ê°€ì¥ í° ê°ì²´</li><li>ê·¸ ì™¸: ê°ì²´ëŠ” ê°€ì¥ ì‘ì€ ê°ì²´</li></ul></li><li>Byte ìˆ˜ ë°˜í™˜</li></ul></li></ul></li></ul><h2 id="object-size-checking-1" tabindex="-1"><a class="header-anchor" href="#object-size-checking-1"><span>Object Size Checking</span></a></h2><ul><li><code>__builtin_object_size()</code> í•¨ìˆ˜ <ul><li><code>_FORTIFY_SOURCE</code>ê°€ ì •ì˜ë  ë•Œ ì‚¬ìš©</li></ul></li></ul><h2 id="object-size-checking-2" tabindex="-1"><a class="header-anchor" href="#object-size-checking-2"><span>Object Size Checking</span></a></h2><ul><li>Example <ul><li>í¬ê¸° ê²°ì • ë¶ˆê°€</li><li><code>src_end</code> = <code>â€˜\0â€™</code>ë¥¼ í¬í•¨í•œ byte ìˆ˜</li></ul></li></ul><h2 id="visual-studio-compiler-generated-runtime-checks" tabindex="-1"><a class="header-anchor" href="#visual-studio-compiler-generated-runtime-checks"><span>Visual Studio Compiler-Generated Runtime Checks</span></a></h2><ul><li>Visual C++ 2010 <ul><li><code>/RTCs</code> compiler flag <ul><li>Arraysì™€ ê°™ì€ local variablesì˜ overflows</li><li>ì´ˆê¸°í™”ë˜ì§€ ì•Šì€ variables ì‚¬ìš©</li><li>Stack pointer corruption</li><li>ë“±ì˜ runtime checks í™œì„±í™”</li></ul></li><li><code>/GS</code></li><li>pragmaë¥¼ ì‚¬ìš©í•˜ì—¬ flags ì¡°ì • ê°€ëŠ¥</li></ul></li></ul><h2 id="stack-smashing-protector-propolice" tabindex="-1"><a class="header-anchor" href="#stack-smashing-protector-propolice"><span>Stack-Smashing Protector (ProPolice)</span></a></h2><ul><li><code>GCC 4.1</code><ul><li>Stack-Smashing Protector (SSP) ê¸°ëŠ¥ ë„ì…</li><li>Buffers ë’¤ì— pointersë¥¼ ë°°ì¹˜í•˜ë„ë¡ local variables ì¬ì •ë ¬</li><li>í•¨ìˆ˜ ì¸ìˆ˜ì˜ pointersë¥¼ local variable buffers ì• ì˜ì—­ìœ¼ë¡œ ë³µì‚¬</li></ul></li><li>SSP <ul><li>Canaryë¥¼ ë„ì…í•˜ì—¬ ë³€ê²½ ì‚¬í•­ ê°ì§€</li></ul></li></ul><h2 id="stack-smashing-protector-propolice-1" tabindex="-1"><a class="header-anchor" href="#stack-smashing-protector-propolice-1"><span>Stack-Smashing Protector (ProPolice)</span></a></h2><ul><li>SSP stack structure <ul><li>ìœ„ì¹˜ (A): array ë˜ëŠ” pointer variables ì—†ìŒ</li><li>ìœ„ì¹˜ (B): arraysë¥¼ í¬í•¨í•˜ëŠ” arrays ë˜ëŠ” structures</li><li>ìœ„ì¹˜ (B) ë’¤ì— guard ë°°ì¹˜</li><li>ìœ„ì¹˜ (C): arrays ì—†ìŒ</li><li>Stack guard</li></ul></li></ul><h2 id="operating-system-strategies" tabindex="-1"><a class="header-anchor" href="#operating-system-strategies"><span>Operating System Strategies</span></a></h2><ul><li>Address space layout randomization (ASLR) <ul><li>Arbitrary code execution ë°©ì§€</li><li>Linux, Windows Vista ì´í›„ ì‚¬ìš© ê°€ëŠ¥</li><li>ê°œë°œìëŠ” <code>/DYNAMICBASE</code> linker optionì„ ì‚¬ìš©í•˜ì—¬ ASLR ì§€ì›ì— opt in í•´ì•¼ í•¨</li></ul></li></ul><h2 id="operating-system-strategies-1" tabindex="-1"><a class="header-anchor" href="#operating-system-strategies-1"><span>Operating System Strategies</span></a></h2><ul><li>Nonexecutable stacks <ul><li>ê³µê²©ìê°€ stackì—ì„œ executable codeë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ í—ˆìš©í•˜ì§€ ì•ŠìŒ</li></ul></li><li>W ^ X (W xor X) <ul><li>Process address spaceì˜ ì–´ë–¤ ë¶€ë¶„ë„ writableì´ë©´ì„œ executableì´ì§€ ì•ŠìŒ</li><li>ì—¬ëŸ¬ CPUì—ì„œ No eXecute (NX) bit ì‚¬ìš©ìœ¼ë¡œ ì§€ì›</li></ul></li><li>Data Execution Prevention (DEP) <ul><li>Microsoft Visual Studioìš© W ^ X ì •ì±…ì˜ implementation</li><li>NX technologyë¥¼ ì‚¬ìš©í•˜ì—¬ data segmentsì— ì €ì¥ëœ instructionsì˜ ì‹¤í–‰ ë°©ì§€</li><li><code>/NXCOMPACT</code>ë¡œ codeë¥¼ linkí•˜ê±°ë‚˜ <code>SetProcessDEPPolicy()</code> í˜¸ì¶œë¡œ DEP í™œì„±í™”</li></ul></li></ul><h2 id="operating-system-strategies-2" tabindex="-1"><a class="header-anchor" href="#operating-system-strategies-2"><span>Operating System Strategies</span></a></h2><ul><li>PaX <ul><li>Linux kernel security patch</li><li>Nonexecutable stack, ASLR ë“±</li><li>Denial of Service (DoS) ìœ ë°œ ê°€ëŠ¥</li><li>í˜„ì¬ grsecurity projectì˜ ì¼ë¶€</li></ul></li><li>StackGap <ul><li>Stack memory í• ë‹¹ ì‹œ randomly sized gap ë„ì…</li></ul></li></ul><h2 id="future-direction" tabindex="-1"><a class="header-anchor" href="#future-direction"><span>Future Direction</span></a></h2><ul><li>ê°€ëŠ¥í•œ Safe-Secure C/C++ (SSCC) implementation</li></ul><h2 id="notable-vulnerabilities" tabindex="-1"><a class="header-anchor" href="#notable-vulnerabilities"><span>Notable Vulnerabilities</span></a></h2><ul><li>Remote Login (rlogin) <ul><li>Buffer overflow: <code>TERM environment variable</code>ì„ local stack variableë¡œ ì„ ì–¸ëœ 1,024 characters arrayë¡œ ë³µì‚¬</li></ul></li><li>Kerberos <ul><li>Network authentication protocol</li><li><code>krb_rd_req()</code> í•¨ìˆ˜ì—ì„œ buffer overflow</li><li>ê³µê²©ìê°€ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ root access ì–»ì„ ìˆ˜ ìˆìŒ</li></ul></li></ul><h2 id="summary" tabindex="-1"><a class="header-anchor" href="#summary"><span>Summary</span></a></h2><ul><li>C ë° C++ì—ì„œ buffer overflowsê°€ ìì£¼ ë°œìƒí•˜ëŠ” ì´ìœ  <ol><li>Stringsë¥¼ null-terminated arrays of charactersë¡œ ì •ì˜</li><li>ì•”ë¬µì ì¸ bounds checkingì„ ìˆ˜í–‰í•˜ì§€ ì•ŠìŒ</li><li>Bounds checkingì„ ê°•ì œí•˜ì§€ ì•ŠëŠ” í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜¸ì¶œ ì œê³µ</li></ol></li><li>ì¼ë°˜ì ì¸ ì™„í™” ì „ëµì€ ìƒˆë¡œìš´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì±„íƒ</li><li>ì‹¤ìš©ì ì¸ ì™„í™” ì „ëµì€ static analysis ë° dynamic analysis í¬í•¨</li><li>Runtime solutions <ul><li>Bounds checkers, canaries, safe libraries</li></ul></li><li>Defense-in-depth strategy</li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><!----><!--[--><div class="vp-footer-wrapper" data-v-e24f0054><hr data-v-e24f0054><div class="vp-footer" data-v-e24f0054><p class="built-with" data-v-e24f0054>BUILT WITH</p><div class="tech-logos" data-v-e24f0054><a href="https://www.cloudflare.com/" target="_blank" data-v-e24f0054><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/cloudflare/cloudflare-original.svg" alt="Cloudflare" data-v-e24f0054></a><a href="https://nodejs.org/" target="_blank" data-v-e24f0054><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nodejs/nodejs-original.svg" alt="Node.js" data-v-e24f0054></a><a href="https://github.com/kmbzn" target="_blank" data-v-e24f0054><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg" alt="GitHub" data-v-e24f0054></a><a href="https://git-scm.com/" target="_blank" data-v-e24f0054><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/git/git-original.svg" alt="Git" data-v-e24f0054></a><a href="https://vuejs.org/" target="_blank" data-v-e24f0054><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/vuejs/vuejs-original.svg" alt="Vue.js" data-v-e24f0054></a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" target="_blank" data-v-e24f0054><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg" alt="JavaScript" data-v-e24f0054></a><a href="https://code.visualstudio.com/" target="_blank" data-v-e24f0054><img src="https://blog.kakaocdn.net/dn/lTWD3/btsMdkdWJqP/b4aSv2aa6c425THE40jKB1/img.png" alt="VSCode" data-v-e24f0054></a><a href="https://www.npmjs.com/" target="_blank" data-v-e24f0054><img src="https://upload.wikimedia.org/wikipedia/commons/d/db/Npm-logo.svg" alt="npm" data-v-e24f0054></a></div><p class="copyright" data-v-e24f0054> All trademarks and logos are property of their respective owners.<br data-v-e24f0054> Â© 2025 kmbzn Â· <a href="https://github.com/kmbzn/blog/blob/master/LICENSE" target="_blank" data-v-e24f0054>MIT License</a><br data-v-e24f0054></p></div></div><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-BV4FAx4-.js" defer></script>
  </body>
</html>
