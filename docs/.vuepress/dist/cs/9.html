<!doctype html>
<html lang="ko-KR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"><meta property="og:description" content="KeyBaseZone"><meta property="og:image" content="https://kmbzn.com/images/og.png"><link rel="icon" type="image/x-icon" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="192x192" href="/images/android-chrome-192x192.png"><link rel="icon" type="image/png" sizes="512x512" href="/images/android-chrome-512x512.png"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/victor-mono@latest/dist/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretendard@1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.css"><title>09. Buffer Overflow</title><meta name="description" content="Summarizing key concepts from CS lectures.">
    <link rel="preload" href="/assets/style-hkFYEFWd.css" as="style"><link rel="stylesheet" href="/assets/style-hkFYEFWd.css">
    <link rel="modulepreload" href="/assets/app-BV4FAx4-.js"><link rel="modulepreload" href="/assets/vendor-bWEtUbjf.js"><link rel="modulepreload" href="/assets/9.html-6ctFgjPy.js">
    <link rel="prefetch" href="/assets/Mindscape.html-DlQHQLay.js" as="script"><link rel="prefetch" href="/assets/Musics.html-B7vsdhK3.js" as="script"><link rel="prefetch" href="/assets/index.html-BLWpi0py.js" as="script"><link rel="prefetch" href="/assets/test.html-DwJ0wGv3.js" as="script"><link rel="prefetch" href="/assets/1.html-B-VjT9Yf.js" as="script"><link rel="prefetch" href="/assets/10.html-BGCh5Xm_.js" as="script"><link rel="prefetch" href="/assets/11.html-CZgmzu0a.js" as="script"><link rel="prefetch" href="/assets/12.html-Cfqqq-MH.js" as="script"><link rel="prefetch" href="/assets/13.html-DjstRGqQ.js" as="script"><link rel="prefetch" href="/assets/14.html-B95nLEZV.js" as="script"><link rel="prefetch" href="/assets/15.html-C0_E9lAM.js" as="script"><link rel="prefetch" href="/assets/16.html-CW5GhbwW.js" as="script"><link rel="prefetch" href="/assets/17.html-at7PTfn9.js" as="script"><link rel="prefetch" href="/assets/2.html-DDwozWWf.js" as="script"><link rel="prefetch" href="/assets/3.html-Dyx2HZqf.js" as="script"><link rel="prefetch" href="/assets/4.html-NJ6qgGfI.js" as="script"><link rel="prefetch" href="/assets/5.html-DApTnXbl.js" as="script"><link rel="prefetch" href="/assets/6.html-CWS6eSBY.js" as="script"><link rel="prefetch" href="/assets/7.html-ZOCmGd2F.js" as="script"><link rel="prefetch" href="/assets/8.html-B-l3FNo2.js" as="script"><link rel="prefetch" href="/assets/9.html-B9rrEail.js" as="script"><link rel="prefetch" href="/assets/midterm.html-DIRsdbYW.js" as="script"><link rel="prefetch" href="/assets/1018.html-DNJlM1LV.js" as="script"><link rel="prefetch" href="/assets/1966.html-URTr8eFq.js" as="script"><link rel="prefetch" href="/assets/PythonTimeout.html-CnNWUDd5.js" as="script"><link rel="prefetch" href="/assets/aloha_6.html-Cj0pMdkz.js" as="script"><link rel="prefetch" href="/assets/std-vector.html-cOArizwb.js" as="script"><link rel="prefetch" href="/assets/vim.html-DOHYviQb.js" as="script"><link rel="prefetch" href="/assets/1.html-eRFqbvmb.js" as="script"><link rel="prefetch" href="/assets/13.html-B6JszH7n.js" as="script"><link rel="prefetch" href="/assets/14.html-DUqpsWzz.js" as="script"><link rel="prefetch" href="/assets/15.html-2ewoc5IH.js" as="script"><link rel="prefetch" href="/assets/16.html-vxBR7IWK.js" as="script"><link rel="prefetch" href="/assets/18.html-DGNpVaOm.js" as="script"><link rel="prefetch" href="/assets/2.html-Cu--_Hy0.js" as="script"><link rel="prefetch" href="/assets/2021024057.html-DKR47WuU.js" as="script"><link rel="prefetch" href="/assets/3.html-Bf6Ijv9t.js" as="script"><link rel="prefetch" href="/assets/6.html-C-zESbQF.js" as="script"><link rel="prefetch" href="/assets/7-1.html-D1QOQk4-.js" as="script"><link rel="prefetch" href="/assets/7-2.html-Bf2mG6Yp.js" as="script"><link rel="prefetch" href="/assets/Assignment2-1.html-BAZIQkz3.js" as="script"><link rel="prefetch" href="/assets/Assignment2-2.html-D8V-zxRY.js" as="script"><link rel="prefetch" href="/assets/Assignment3.html-emslOT19.js" as="script"><link rel="prefetch" href="/assets/LAB06.html-DvQOTILL.js" as="script"><link rel="prefetch" href="/assets/LAB08.html-BSvpb7zD.js" as="script"><link rel="prefetch" href="/assets/bpt.html-DfUbBpHf.js" as="script"><link rel="prefetch" href="/assets/wiki.html-T4giJlPq.js" as="script"><link rel="prefetch" href="/assets/Bitcoin.html-B5YX8Rgj.js" as="script"><link rel="prefetch" href="/assets/1-Course-Intro.html-DZ-JysNB.js" as="script"><link rel="prefetch" href="/assets/10-Character-Animation.html-COh0G_0O.js" as="script"><link rel="prefetch" href="/assets/11-Curves.html-Bc-sPR24.js" as="script"><link rel="prefetch" href="/assets/12-More-Lighting-Texture.html-DppKCINS.js" as="script"><link rel="prefetch" href="/assets/2-Rendering-Basics.html-n5LwvtXQ.js" as="script"><link rel="prefetch" href="/assets/3-Transformations.html-wf7fSBYV.js" as="script"><link rel="prefetch" href="/assets/4-Affine-Space-Frame_Matrix.html-D1btmeRr.js" as="script"><link rel="prefetch" href="/assets/5-Vertex-Processing-1.html-N1dvpyUc.js" as="script"><link rel="prefetch" href="/assets/6-Vertex-Processing-2.html-CM0OIl0e.js" as="script"><link rel="prefetch" href="/assets/7-Hierachical-Modeling-Mesh.html-DwaPjBRj.js" as="script"><link rel="prefetch" href="/assets/8-Lighting.html-BUoKAPSj.js" as="script"><link rel="prefetch" href="/assets/9-Orientation-Rotation.html-BKn2Eaj1.js" as="script"><link rel="prefetch" href="/assets/Project-2.html-BiI-w9K4.js" as="script"><link rel="prefetch" href="/assets/Project-3.html-C9uuJq9b.js" as="script"><link rel="prefetch" href="/assets/4.html-IlIRzSsr.js" as="script"><link rel="prefetch" href="/assets/5.html-BxxIWve-.js" as="script"><link rel="prefetch" href="/assets/6.html-CbN0LKkE.js" as="script"><link rel="prefetch" href="/assets/7.html-DrzuMYdo.js" as="script"><link rel="prefetch" href="/assets/8.html-DBeFqPU9.js" as="script"><link rel="prefetch" href="/assets/saja.html-anDe_8um.js" as="script"><link rel="prefetch" href="/assets/Nordvik.html-BJNdIun0.js" as="script"><link rel="prefetch" href="/assets/NorthSentinelIsland.html-DjWLlSj2.js" as="script"><link rel="prefetch" href="/assets/Rongorongo.html-wEtk0tY-.js" as="script"><link rel="prefetch" href="/assets/1.html-SuEAZVz4.js" as="script"><link rel="prefetch" href="/assets/10.html-Bm8TunBB.js" as="script"><link rel="prefetch" href="/assets/2.html-_ZXKoP_4.js" as="script"><link rel="prefetch" href="/assets/24midterm.html-DNercNgk.js" as="script"><link rel="prefetch" href="/assets/3.html-BDbK2Ny4.js" as="script"><link rel="prefetch" href="/assets/4.html-Cpe8K0My.js" as="script"><link rel="prefetch" href="/assets/5.html-DZXCWAWb.js" as="script"><link rel="prefetch" href="/assets/6.html-Cahc2tLH.js" as="script"><link rel="prefetch" href="/assets/7.html-IAf_BaCD.js" as="script"><link rel="prefetch" href="/assets/8.html-Dcp1F25R.js" as="script"><link rel="prefetch" href="/assets/wiki.html-CgOkhg-E.js" as="script"><link rel="prefetch" href="/assets/ExtraVirginOliveOil.html-idIioYap.js" as="script"><link rel="prefetch" href="/assets/PsylliumHusk.html-cGw_LJJH.js" as="script"><link rel="prefetch" href="/assets/10.html-COCXlLep.js" as="script"><link rel="prefetch" href="/assets/11.html-sd_VwB8p.js" as="script"><link rel="prefetch" href="/assets/12.html-Cl6Ucutp.js" as="script"><link rel="prefetch" href="/assets/13.html-CRQeTNDf.js" as="script"><link rel="prefetch" href="/assets/2.html-DMQ8qYKf.js" as="script"><link rel="prefetch" href="/assets/3.html-CC2iQGx8.js" as="script"><link rel="prefetch" href="/assets/4.html-f74x7C-z.js" as="script"><link rel="prefetch" href="/assets/5.html-M2Rc9QyI.js" as="script"><link rel="prefetch" href="/assets/6.html-Ba92EOb9.js" as="script"><link rel="prefetch" href="/assets/7.html-DqvCFCO2.js" as="script"><link rel="prefetch" href="/assets/8.html-Bs2ldM9m.js" as="script"><link rel="prefetch" href="/assets/9.html-D38PKH5K.js" as="script"><link rel="prefetch" href="/assets/wiki-2.html-PGJFfbWK.js" as="script"><link rel="prefetch" href="/assets/wiki.html-CymFcgpX.js" as="script"><link rel="prefetch" href="/assets/10.VirtualMemory-1.html-BX2r-Xu0.js" as="script"><link rel="prefetch" href="/assets/11.VirtualMemory-2.html-CIwsjpEE.js" as="script"><link rel="prefetch" href="/assets/12.FileSystem.html-DHzklIDr.js" as="script"><link rel="prefetch" href="/assets/13.MassStorageManagement.html-BTbz1xCH.js" as="script"><link rel="prefetch" href="/assets/14.IOSystems.html-HaXWrWmx.js" as="script"><link rel="prefetch" href="/assets/7.Deadlocks.html-DQ5A4meM.js" as="script"><link rel="prefetch" href="/assets/8.MemoryManagement-1.html-BGl1o3Ju.js" as="script"><link rel="prefetch" href="/assets/9.MemoryManagement-2.html-B7iYRNKy.js" as="script"><link rel="prefetch" href="/assets/Project-2-test-code.html-BPeiyBgP.js" as="script"><link rel="prefetch" href="/assets/Project-2.html-CACJ8ZO9.js" as="script"><link rel="prefetch" href="/assets/Project-3-ko.html-BiQkZNUb.js" as="script"><link rel="prefetch" href="/assets/Project-3-wiki.html-8X3hnERB.js" as="script"><link rel="prefetch" href="/assets/Project-3.html-B_C8j4vw.js" as="script"><link rel="prefetch" href="/assets/wiki.html-ByCzKEQM.js" as="script"><link rel="prefetch" href="/assets/404.html-B74NY2oq.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/images/kbz.png" alt><!----></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><!----><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading"> <!----></p><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/Mindscape.html" aria-label="Mindscape ğŸ”¥"><!--[--><!--[--><!--]--><!--]-->Mindscape ğŸ”¥<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Musics.html" aria-label="Playlist ğŸ§"><!--[--><!--[--><!--]--><!--]-->Playlist ğŸ§<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">ğŸ§  Algorithm <span class="right arrow"></span></p><ul class="vp-sidebar-children" style="display:none;"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/algorithm/PythonTimeout.html" aria-label="Python ì‹œê°„ ì´ˆê³¼ ë°©ì§€ë¥¼ ìœ„í•œ íŒ"><!--[--><!--[--><!--]--><!--]-->Python ì‹œê°„ ì´ˆê³¼ ë°©ì§€ë¥¼ ìœ„í•œ íŒ<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/algorithm/std-vector.html" aria-label="C++ std::vector ì‚¬ìš©ë²• ì •ë¦¬"><!--[--><!--[--><!--]--><!--]-->C++ std::vector ì‚¬ìš©ë²• ì •ë¦¬<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/algorithm/vim.html" aria-label="Vim ì‚¬ìš© ë§¤ë‰´ì–¼"><!--[--><!--[--><!--]--><!--]-->Vim ì‚¬ìš© ë§¤ë‰´ì–¼<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/algorithm/1018.html" aria-label="1018ë²ˆ: ì²´ìŠ¤íŒ ë‹¤ì‹œ ì¹ í•˜ê¸°"><!--[--><!--[--><!--]--><!--]-->1018ë²ˆ: ì²´ìŠ¤íŒ ë‹¤ì‹œ ì¹ í•˜ê¸°<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/algorithm/1966.html" aria-label="1966ë²ˆ: í”„ë¦°í„° í"><!--[--><!--[--><!--]--><!--]-->1966ë²ˆ: í”„ë¦°í„° í<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page" data-v-e24f0054><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="_09-buffer-overflow" tabindex="-1"><a class="header-anchor" href="#_09-buffer-overflow"><span>09. Buffer Overflow</span></a></h1><h1 id="os-overview" tabindex="-1"><a class="header-anchor" href="#os-overview"><span>OS Overview</span></a></h1><h2 id="operating-system" tabindex="-1"><a class="header-anchor" href="#operating-system"><span>Operating System</span></a></h2><ul><li>Multiprogramming: íš¨ìœ¨ì„± í•„ìš”</li><li>Job (code, ë°ì´í„°) ì¡°ì§í™” -&gt; CPUê°€ í•­ìƒ í•˜ë‚˜ë¥¼ ì‹¤í–‰í•˜ë„ë¡ ë³´ì¥</li><li>Job scheduling: Job ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì—¬ ì‹¤í–‰</li><li>Wait (e.g., I/O) ë°œìƒ ì‹œ, OSê°€ ë‹¤ë¥¸ jobìœ¼ë¡œ ì „í™˜</li><li>Timesharing (multitasking): CPUê°€ jobì„ ë§¤ìš° ë¹ˆë²ˆí•˜ê²Œ ì „í™˜, interactive computing ìƒì„±</li><li>Response time ìµœì†Œí™”</li><li>ê° ì‚¬ìš©ìëŠ” memoryì—ì„œ ì‹¤í–‰ ì¤‘ì¸ í•˜ë‚˜ ì´ìƒì˜ í”„ë¡œê·¸ë¨ (process) ë³´ìœ </li><li>CPU scheduling: ì—¬ëŸ¬ jobì´ ë™ì‹œì— ì‹¤í–‰ ì¤€ë¹„ë  ë•Œ</li><li>Swapping: Processê°€ memoryì— ë§ì§€ ì•Šì„ ë•Œ</li><li>Virtual memory: Processê°€ memoryì— ì™„ì „íˆ ì—†ì–´ë„ ì‹¤í–‰ í—ˆìš©</li></ul><h2 id="operating-system-operations" tabindex="-1"><a class="header-anchor" href="#operating-system-operations"><span>Operating System Operations</span></a></h2><ul><li>Dual-mode operation: OSê°€ ìì‹ ê³¼ ë‹¤ë¥¸ ì‹œìŠ¤í…œ êµ¬ì„± ìš”ì†Œ ë³´í˜¸</li><li>User mode ë° kernel mode</li><li>Mode bit: Hardwareê°€ ì œê³µ</li><li>ì‹œìŠ¤í…œì´ user code ì‹¤í–‰ ì¤‘ì¸ì§€ kernel code ì‹¤í–‰ ì¤‘ì¸ì§€ êµ¬ë³„</li><li>Privileged instructions: Kernel modeì—ì„œë§Œ ì‹¤í–‰ ê°€ëŠ¥</li><li>System call: Modeë¥¼ kernelë¡œ ë³€ê²½, callë¡œë¶€í„° return ì‹œ userë¡œ ì¬ì„¤ì •</li></ul><h2 id="process-management" tabindex="-1"><a class="header-anchor" href="#process-management"><span>Process Management</span></a></h2><ul><li>Process: ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œê·¸ë¨ (A í”„ë¡œê·¸ë¨ in execution)</li><li>ì‹œìŠ¤í…œ ë‚´ ì‘ì—… ë‹¨ìœ„ (unit of work)</li><li>Program: ìˆ˜ë™ì  entity, Process: ëŠ¥ë™ì  entity</li><li>Process ìì› í•„ìš”: CPU, memory, I/O, files, initialization ë°ì´í„°</li><li>Process ì¢…ë£Œ: ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ìì› íšŒìˆ˜</li><li>Single-threaded process: ë‹¤ìŒ ì‹¤í–‰í•  instruction ìœ„ì¹˜ ì§€ì •í•˜ëŠ” í”„ë¡œê·¸ë¨ counter 1ê°œ</li><li>Multi-threaded process: Thread ë‹¹ í”„ë¡œê·¸ë¨ counter 1ê°œ</li></ul><h2 id="memory-management" tabindex="-1"><a class="header-anchor" href="#memory-management"><span>Memory Management</span></a></h2><ul><li>ëª¨ë“  ë°ì´í„°: ì²˜ë¦¬ ì „í›„ memoryì— ìœ„ì¹˜</li><li>ëª¨ë“  instructions: ì‹¤í–‰ ìœ„í•´ memoryì— ìœ„ì¹˜</li><li>Memory management: CPU utilization ë° response time ìµœì í™”</li><li>í™œë™: <ul><li>Memory ì‚¬ìš© í˜„í™© ë° ì‚¬ìš©ì ì¶”ì </li><li>Process (ë˜ëŠ” ê·¸ ì¼ë¶€) ë° ë°ì´í„°ì˜ memory ì´ë™ ê²°ì •</li><li>Memory ê³µê°„ í• ë‹¹ ë° í•´ì œ</li></ul></li></ul><h2 id="storage-management" tabindex="-1"><a class="header-anchor" href="#storage-management"><span>Storage Management</span></a></h2><ul><li>OS: ì •ë³´ ì €ì¥ì†Œì— ëŒ€í•œ í†µì¼ëœ ë…¼ë¦¬ì  view ì œê³µ</li><li>ë¬¼ë¦¬ì  ì†ì„±ì„ ë…¼ë¦¬ì  ì €ì¥ ë‹¨ìœ„ (file)ë¡œ ì¶”ìƒí™”</li><li>File-System management:</li><li>Fileì„ directoryë¡œ ì¡°ì§</li><li>Access control: ì ‘ê·¼ ê¶Œí•œ ê²°ì •</li><li>OS í™œë™:</li><li>File, directory ìƒì„± ë° ì‚­ì œ</li><li>File, directory ì¡°ì‘ primitive</li><li>Fileì„ secondary storageì— mapping</li><li>Fileì„ stable storage mediaì— backup</li></ul><h2 id="a-view-of-operating-system-services" tabindex="-1"><a class="header-anchor" href="#a-view-of-operating-system-services"><span>A View of Operating System Services</span></a></h2><h2 id="system-calls" tabindex="-1"><a class="header-anchor" href="#system-calls"><span>System Calls</span></a></h2><ul><li>OSê°€ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ì— ëŒ€í•œ programming interface</li><li>ì¼ë°˜ì ìœ¼ë¡œ high-level language (C or C++)ë¡œ ì‘ì„±</li><li>ì§ì ‘ system call ì‚¬ìš©ë³´ë‹¤ high-level API (Application í”„ë¡œê·¸ë¨ Interface) í†µí•´ ì ‘ê·¼</li><li>open(): system call</li><li>fopen(): API (C language library)</li><li>3ëŒ€ API: Win32 (Windows), POSIX (UNIX, Linux, Mac OS X), Java (JVM)</li><li>API ì‚¬ìš© ì´ìœ : Portability, Ease of use</li></ul><h2 id="system-call-implementation" tabindex="-1"><a class="header-anchor" href="#system-call-implementation"><span>System Call Implementation</span></a></h2><ul><li>ì¼ë°˜ì ìœ¼ë¡œ ê° system callì— ìˆ«ì(number) ì—°ê´€</li><li>System-call interface: ì´ ìˆ«ìì— ë”°ë¼ indexëœ table ìœ ì§€</li><li>Interface: OS kernelì—ì„œ ì˜ë„í•œ system call í˜¸ì¶œ, system call ìƒíƒœ ë° return ê°’ ë°˜í™˜</li><li>Caller: system call êµ¬í˜„ ë°©ì‹ ì•Œ í•„ìš” ì—†ìŒ</li><li>API ì¤€ìˆ˜ ë° OS ê²°ê³¼ ì´í•´</li><li>API: OS interface ì„¸ë¶€ ì‚¬í•­ programmerì—ê²Œ ìˆ¨ê¹€</li></ul><h2 id="api-â€“-system-call-â€“-os-relationship" tabindex="-1"><a class="header-anchor" href="#api-â€“-system-call-â€“-os-relationship"><span>API â€“ System Call â€“ OS Relationship</span></a></h2><ul><li>Use system call, directly</li></ul><h2 id="standard-c-library-example" tabindex="-1"><a class="header-anchor" href="#standard-c-library-example"><span>Standard C Library Example</span></a></h2><ul><li>C program: print<code>f()</code> (library call) í˜¸ì¶œ -&gt; write() (system call) í˜¸ì¶œ</li></ul><h2 id="examples-of-windows-and-unix-system-calls" tabindex="-1"><a class="header-anchor" href="#examples-of-windows-and-unix-system-calls"><span>Examples of Windows and Unix System Calls</span></a></h2><h1 id="buffer-overflow" tabindex="-1"><a class="header-anchor" href="#buffer-overflow"><span>Buffer Overflow</span></a></h1><h2 id="buffer-overflow-1" tabindex="-1"><a class="header-anchor" href="#buffer-overflow-1"><span>Buffer Overflow</span></a></h2><ul><li>A very common attack mechanism</li><li>1988ë…„ Morris Wormì´ ì²˜ìŒ ë„ë¦¬ ì‚¬ìš©</li><li>Prevention techniques ì•Œë ¤ì§</li><li>ì—¬ì „íˆ ì£¼ìš” ê´€ì‹¬ì‚¬:</li><li>Legacy buggy code</li><li>í”„ë¡œê·¸ë˜ë¨¸ì˜ ë¶€ì£¼ì˜í•œ programming practices ì§€ì†</li></ul><h1 id="brief-history-of-buffer-overflow-attacks" tabindex="-1"><a class="header-anchor" href="#brief-history-of-buffer-overflow-attacks"><span>Brief History of Buffer Overflow Attacks</span></a></h1><h2 id="buffer-overflow-buffer-overrun" tabindex="-1"><a class="header-anchor" href="#buffer-overflow-buffer-overrun"><span>Buffer Overflow/Buffer Overrun</span></a></h2><ul><li>NIST Glossary ì •ì˜: <blockquote><p><em>&quot;A condition at an interface under which more input can be placed into a buffer or ë°ì´í„° holding area than the capacity allocated, overwriting other information. Attackers exploit such a condition to crash a system or to insert specially crafted code that allows them to gain control of the system.â€</em></p></blockquote></li><li>(ìš”ì•½) Buffer ìš©ëŸ‰ ì´ˆê³¼ input -&gt; ë‹¤ë¥¸ ì •ë³´ ë®ì–´ì“°ê¸°</li><li>Attacker: ì‹œìŠ¤í…œ crash ë˜ëŠ” code ì‚½ì… (ì‹œìŠ¤í…œ ì œì–´)</li></ul><h2 id="buffer-overflow-basics" tabindex="-1"><a class="header-anchor" href="#buffer-overflow-basics"><span>Buffer Overflow Basics</span></a></h2><ul><li>Programming error: processê°€ fixed-sized buffer í•œê³„ ì´ˆê³¼ ë°ì´í„° ì €ì¥ ì‹œë„</li><li>ì¸ì ‘ memory ìœ„ì¹˜ ë®ì–´ì“°ê¸°</li><li>ë®ì–´ì“°ëŠ” ìœ„ì¹˜: í”„ë¡œê·¸ë¨ variables, parameters, í”„ë¡œê·¸ë¨ control flow ë°ì´í„°</li><li>Buffer ìœ„ì¹˜: stack, heap, ë°ì´í„° section</li><li>ê²°ê³¼ (Consequences): <ul><li>í”„ë¡œê·¸ë¨ ë°ì´í„° ì†ìƒ</li><li>ì˜ˆê¸°ì¹˜ ì•Šì€ control ì „ì†¡</li><li>Memory access ìœ„ë°˜</li><li>Attackerê°€ ì„ íƒí•œ code ì‹¤í–‰</li></ul></li></ul><h2 id="basic-buffer-overflow-example" tabindex="-1"><a class="header-anchor" href="#basic-buffer-overflow-example"><span>Basic Buffer Overflow Example</span></a></h2><p><img src="/assets/image-7-B2TUc89A.png" alt="alt text"></p><blockquote><p><strong>Figure 10.1</strong> Basic Buffer Overflow Example</p></blockquote><h2 id="basic-buffer-overflow-stack-values" tabindex="-1"><a class="header-anchor" href="#basic-buffer-overflow-stack-values"><span>Basic Buffer Overflow Stack Values</span></a></h2><p><img src="/assets/image-8-Bm9dkB8z.png" alt="alt text"></p><blockquote><p><strong>Figure 10.2</strong> Basic Buffer Overflow Stack Values</p></blockquote><h2 id="buffer-overflow-attacks" tabindex="-1"><a class="header-anchor" href="#buffer-overflow-attacks"><span>Buffer Overflow Attacks</span></a></h2><ul><li>Exploit í•„ìš” ì¡°ê±´: <ul><li>Attacker ì œì–´ í•˜ì˜ ë°ì´í„°ë¡œ trigger ê°€ëŠ¥í•œ buffer overflow ì·¨ì•½ì  ì‹ë³„</li><li>Buffer ì €ì¥ ë°©ì‹ ì´í•´, ì†ìƒ ê°€ëŠ¥ì„± íŒë‹¨</li></ul></li><li>ì·¨ì•½ í”„ë¡œê·¸ë¨ ì‹ë³„ ë°©ë²•: <ul><li>í”„ë¡œê·¸ë¨ source ê²€ì‚¬</li><li>Oversized input ì²˜ë¦¬ ì‹œ í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì¶”ì </li><li>Fuzzing (ìë™ ì‹ë³„ ë„êµ¬) ì‚¬ìš©</li></ul></li></ul><h2 id="programming-language-history" tabindex="-1"><a class="header-anchor" href="#programming-language-history"><span>Programming Language History</span></a></h2><ul><li>Machine level: ë°ì´í„°ëŠ” register ë˜ëŠ” memoryì— ì €ì¥</li><li>Assembly language: í”„ë¡œê·¸ë˜ë¨¸ê°€ ë°ì´í„° í•´ì„ ì±…ì„</li></ul><p><img src="/assets/image-9-aVZEzi14.png" alt="alt text"></p><h2 id="stack-buffer-overflows" tabindex="-1"><a class="header-anchor" href="#stack-buffer-overflows"><span>Stack Buffer Overflows</span></a></h2><ul><li>Bufferê°€ stackì— ìœ„ì¹˜í•  ë•Œ ë°œìƒ (stack smashing)</li><li>Morris Wormì´ ì‚¬ìš© (unchecked buffer overflow exploit)</li><li>ì—¬ì „íˆ ë„ë¦¬ exploit ë¨</li><li>Stack frame: <ul><li>í•¨ìˆ˜ í˜¸ì¶œ ì‹œ return address ì €ì¥</li><li>í˜¸ì¶œëœ í•¨ìˆ˜ë¡œ ì „ë‹¬ë  parameter ì €ì¥</li><li>Register ê°’ ì €ì¥</li></ul></li></ul><h2 id="stack-frame-with-functions-p-and-q" tabindex="-1"><a class="header-anchor" href="#stack-frame-with-functions-p-and-q"><span>Stack Frame with Functions P and Q</span></a></h2><p><img src="/assets/image-10-C3O5GdkE.png" alt="alt text"></p><blockquote><p><strong>Figure 10.3</strong> Example Stack Frame with Functions P and Q</p></blockquote><h2 id="programs-and-processes" tabindex="-1"><a class="header-anchor" href="#programs-and-processes"><span>Programs and Processes</span></a></h2><p><img src="/assets/image-11-BVHWciZn.png" alt="alt text"></p><blockquote><p><strong>Figure 10.4</strong> Program Loading into Process Memory</p></blockquote><h2 id="stack-overflow-example" tabindex="-1"><a class="header-anchor" href="#stack-overflow-example"><span>Stack Overflow Example</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">void hello(char *tag) {</span>
<span class="line">  char inp[16];</span>
<span class="line"></span>
<span class="line">  printf(&quot;Enter value for %s: &quot;, tag);</span>
<span class="line">  gets(inp);</span>
<span class="line">  printf(&quot;Hello your %s is %s\n&quot;, tag, inp);</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(a) Basic stack overflow C code</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">$ cc -g -o buffer2 buffer2.c</span>
<span class="line"></span>
<span class="line">$ ./buffer2</span>
<span class="line"></span>
<span class="line">Enter value for name: Bill and Lawrie</span>
<span class="line">Hello your name is Bill and Lawrie</span>
<span class="line">buffer2 done</span>
<span class="line"></span>
<span class="line">$ ./buffer2</span>
<span class="line">Enter value for name: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</span>
<span class="line">Segmentation fault (core dumped)</span>
<span class="line"></span>
<span class="line">$ perl -e &#39;print pack(&quot;H*&quot;, &quot;41424344454647485152535455565758616263646566676808fcffbf948304080a4e4e4e0a&quot;);&#39; | ./buffer2</span>
<span class="line">Enter value for name:</span>
<span class="line">Hello your Re?ppy\]uEA is ABCDEFAGHQRSTUVWXabcdefguyu</span>
<span class="line">Enter value for Kyyu:</span>
<span class="line">Hello your Kyyu is NNNN</span>
<span class="line">Segmentation fault (core dumped)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(b) Basic stack overflow examples runs</p><blockquote><p><strong>Figure 10.5</strong> Basic Stack Overflow Example</p></blockquote><p><img src="/assets/image-13-DNDraS_F.png" alt="alt text"></p><blockquote><p><strong>Figure 10.6</strong> Basic Stack Overflow Stack Values</p></blockquote><p><img src="/assets/image-14-BcN7G4uK.png" alt="alt text"></p><blockquote><p><strong>Figure 10.7</strong> Another Stack Overflow Example</p></blockquote><h2 id="common-unsafe-c-standard-library-routines" tabindex="-1"><a class="header-anchor" href="#common-unsafe-c-standard-library-routines"><span>Common Unsafe C Standard Library Routines</span></a></h2><p><img src="/assets/image-15-BLaotS5R.png" alt="alt text"></p><blockquote><p><strong>Table 10.2</strong> Some Common Unsafe C Standard Library Routines</p></blockquote><h2 id="shellcode" tabindex="-1"><a class="header-anchor" href="#shellcode"><span>Shellcode</span></a></h2><ul><li>Attackerê°€ ì œê³µí•˜ëŠ” code <ul><li>Overflowëœ bufferì— ì €ì¥</li><li>ì „í†µì ìœ¼ë¡œ user command-line interpreter (shell)ë¡œ ì œì–´ ì „ë‹¬</li></ul></li><li>Machine code: íŠ¹ì • processor, operating system ì˜ì¡´</li><li>Metasploit Project: Exploit ì—°êµ¬, IDS ì„œëª… ê°œë°œ ë“±ì— ìœ ìš©í•œ ì •ë³´ ì œê³µ</li></ul><h2 id="example-shellcode" tabindex="-1"><a class="header-anchor" href="#example-shellcode"><span>Example Shellcode</span></a></h2><p><img src="/assets/image-16-BgOD9KW7.png" alt="alt text"></p><blockquote><p><strong>Figure 10.8</strong> Example UNIX Shellcode</p></blockquote><h2 id="common-x86-assembly-language-instructions" tabindex="-1"><a class="header-anchor" href="#common-x86-assembly-language-instructions"><span>Common <code>x86</code> Assembly Language Instructions</span></a></h2><h2 id="x86-registers" tabindex="-1"><a class="header-anchor" href="#x86-registers"><span><code>x86</code> Registers</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">$ dir -l buffer4</span>
<span class="line">-rwsr-xr-x    1 root     knoppix      16571 Jul 17 10:49 buffer4</span>
<span class="line"></span>
<span class="line">$ whoami</span>
<span class="line">knoppix</span>
<span class="line">$ cat /etc/shadow</span>
<span class="line">cat: /etc/shadow: Permission denied</span>
<span class="line"></span>
<span class="line">$ cat attack1</span>
<span class="line">perl -e &#39;print pack(&quot;H*&quot;,</span>
<span class="line">&quot;9090909090909090909090909090&quot; .</span>
<span class="line">&quot;9090909090909090999090909090&quot; .</span>
<span class="line">&quot;9090eb1a5ec3084607d81e895e0889&quot; .</span>
<span class="line">&quot;460cb0b89f38d4e08d5d60ecb80ebef&quot; .</span>
<span class="line">&quot;ffffffe276696e742f3862020202020&quot; .</span>
<span class="line">&quot;2020202020202038fcffbfc0bfbbf0a&quot;); </span>
<span class="line">print &quot;whoami\n&quot;;</span>
<span class="line">print &quot;cat /etc/shadow\n&quot;;&#39;</span>
<span class="line"></span>
<span class="line">$ attack1 | buffer4</span>
<span class="line">Enter value for name: Hello your yyy)DAOApy is e?^1AFF.../bin/sh...</span>
<span class="line">root</span>
<span class="line">root:$1$rNLId4rX$nkÂ­a7JlxH7.4UJT4I9JRLk1:13346:0:99999:7:::</span>
<span class="line">daemon:*:11453:0:99999:7:::</span>
<span class="line">...</span>
<span class="line">nobody:*:11453:0:99999:7:::</span>
<span class="line">knoppix:$1$fV2SBKBu$EdSFvuudJKaCH8YOl dnAv/:13346:0:99999:7:::</span>
<span class="line">...</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="stack-overflow-variants" tabindex="-1"><a class="header-anchor" href="#stack-overflow-variants"><span>Stack Overflow Variants</span></a></h2><table><thead><tr><th>target program</th></tr></thead><tbody><tr><td>a trust system utility</td></tr><tr><td>network service deamon</td></tr><tr><td>commonly used library code</td></tr></tbody></table><table><thead><tr><th>Shellcode functions:</th></tr></thead><tbody><tr><td>Remote shell ì‹¤í–‰</td></tr><tr><td>Reverse shell ìƒì„± (hackerì—ê²Œ ì—°ê²°)</td></tr><tr><td>Local exploit (shell í™•ë³´)</td></tr><tr><td>Firewall rules flush (ë‹¤ë¥¸ ê³µê²© ì°¨ë‹¨ í•´ì œ)</td></tr><tr><td>chroot (restricted execution) í™˜ê²½ íƒˆì¶œ</td></tr></tbody></table><h2 id="buffer-overflow-defenses" tabindex="-1"><a class="header-anchor" href="#buffer-overflow-defenses"><span>Buffer Overflow Defenses</span></a></h2><ul><li>Buffer overflow: ë„ë¦¬ exploit ë¨</li><li>2ê°€ì§€ ë°©ì–´ ì ‘ê·¼: <ul><li>Compile-time: ìƒˆ í”„ë¡œê·¸ë¨ì—ì„œ attack ì €í•­í•˜ë„ë¡ ê°•í™”</li><li>Run-time: ê¸°ì¡´ í”„ë¡œê·¸ë¨ì—ì„œ attack íƒì§€ ë° ì¤‘ë‹¨</li></ul></li></ul><h2 id="compile-time-defenses-programming-language" tabindex="-1"><a class="header-anchor" href="#compile-time-defenses-programming-language"><span>Compile-Time Defenses: Programming Language</span></a></h2><ul><li>Modern high-level language ì‚¬ìš©: <ul><li>Buffer overflow attackì— ì·¨ì•½í•˜ì§€ ì•ŠìŒ</li><li>Compilerê°€ range checks ë° ë³€ìˆ˜ operation ê°•ì œ</li></ul></li><li>ë‹¨ì : <ul><li>Run time check ìœ„í•œ ì¶”ê°€ code ì‹¤í–‰</li><li>ìœ ì—°ì„±/ì•ˆì „ì„± vs resource ì‚¬ìš© ë¹„ìš©</li><li>Hardware resource ì ‘ê·¼ ì œí•œ (e.g., device drivers ì‘ì„±)</li></ul></li></ul><h2 id="compile-time-defenses-safe-coding-techniques" tabindex="-1"><a class="header-anchor" href="#compile-time-defenses-safe-coding-techniques"><span>Compile-Time Defenses: Safe Coding Techniques</span></a></h2><ul><li>C: Type safety &lt; space efficiency, performance ì¤‘ì‹œ</li><li>í”„ë¡œê·¸ë˜ë¨¸ì˜ ì£¼ì˜(due care) ê°€ì •</li><li>í•´ê²°: Code ê²€ì‚¬, unsafe coding ì¬ì‘ì„±</li><li>ì˜ˆ: OpenBSD project (ê¸°ì¡´ code base ê°ì‚¬)</li><li>ê²°ê³¼: ê°€ì¥ ì•ˆì „í•œ OS ì¤‘ í•˜ë‚˜ë¡œ ê°„ì£¼</li></ul><h2 id="examples-of-unsafe-c-code" tabindex="-1"><a class="header-anchor" href="#examples-of-unsafe-c-code"><span>Examples of Unsafe C Code</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">int copy_buf(char *to, int pos, char *from, int len) {</span>
<span class="line">  int i;</span>
<span class="line">  </span>
<span class="line">  for (i = 0; i &lt; len; i++) {</span>
<span class="line">    to[pos] = from[i];</span>
<span class="line">    pos++;</span>
<span class="line">  }</span>
<span class="line">  return pos;</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(a) Unsafe byte copy</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">short read_chunk(FILE fil, char *to) {</span>
<span class="line">  short len;</span>
<span class="line">  fread(&amp;len, 2, 1, fil);   /* read length of binary data     */</span>
<span class="line">  fread(to, 1, len, fil);   /* read len bytes of binary data  */</span>
<span class="line">  return len;</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(b) Unsafe byte input</p><blockquote><p><strong>Figure 10.10</strong> Examples of Unsafe C Code</p></blockquote><h2 id="compile-time-defenses-language-extensions-safe-libraries" tabindex="-1"><a class="header-anchor" href="#compile-time-defenses-language-extensions-safe-libraries"><span>Compile-Time Defenses: Language Extensions / Safe Libraries</span></a></h2><ul><li>Dynamically allocated memory ì²˜ë¦¬ ë¬¸ì œ (compile time size ì •ë³´ ì—†ìŒ)</li><li>Cì˜ unsafe standard library routines ì‚¬ìš© ë¬¸ì œ</li><li>ì ‘ê·¼: Safer variantë¡œ ëŒ€ì²´</li><li>ì˜ˆ: Libsafe (dynamic library, ê¸°ì¡´ standard libraryë³´ë‹¤ ë¨¼ì € load)</li></ul><h2 id="compile-time-defenses-stack-protection" tabindex="-1"><a class="header-anchor" href="#compile-time-defenses-stack-protection"><span>Compile-Time Defenses: Stack Protection</span></a></h2><ul><li>Function entry, exit code ì¶”ê°€ -&gt; stack ì†ìƒ ì§•í›„ check</li><li>Random canary ì‚¬ìš©: <ul><li>ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•´ì•¼ í•¨</li><li>ë‹¤ì–‘í•œ ì‹œìŠ¤í…œë“¤ê³¼ ë‹¬ë¼ì•¼ í•¨</li></ul></li><li>Stackshield, Return Address Defender (RAD): <ul><li>GCC extensions <ul><li>Function entry: return address ë³µì‚¬ë³¸ safe regionì— ì €ì¥</li><li>Function exit: stack frame return address vs ë³µì‚¬ë³¸ ë¹„êµ -&gt; ë‹¤ë¥´ë©´ í”„ë¡œê·¸ë¨ ì¤‘ë‹¨</li></ul></li></ul></li></ul><h2 id="run-time-defenses-executable-address-space-protection" tabindex="-1"><a class="header-anchor" href="#run-time-defenses-executable-address-space-protection"><span>Run-Time Defenses: Executable Address Space Protection</span></a></h2><ul><li>Virtual memory ì§€ì› ì‚¬ìš© -&gt; ì¼ë¶€ memory region non-executable ì„¤ì •</li><li>MMU (Memory Management Unit) ì§€ì› í•„ìš”</li><li>ì´ìŠˆ:</li><li>Executable stack code ì§€ì›</li><li>íŠ¹ë³„ ì¡°í•­ í•„ìš”</li></ul><h2 id="run-time-defenses-address-space-layout-randomization-aslr" tabindex="-1"><a class="header-anchor" href="#run-time-defenses-address-space-layout-randomization-aslr"><span>Run-Time Defenses: Address Space Layout Randomization (ASLR)</span></a></h2><ul><li>Key ë°ì´í„° structure (stack, heap, global ë°ì´í„°) ìœ„ì¹˜ ì¡°ì‘</li><li>Processë§ˆë‹¤ random shift ì‚¬ìš©</li><li>Heap buffer ìœ„ì¹˜ randomize</li><li>Standard library functions ìœ„ì¹˜ randomize</li></ul><h2 id="run-time-defenses-guard-pages" tabindex="-1"><a class="header-anchor" href="#run-time-defenses-guard-pages"><span>Run-Time Defenses: Guard Pages</span></a></h2><ul><li>Stack canaryë‘ ë¹„ìŠ·í•œ ë°©ë²•</li><li>Critical memory region ì‚¬ì´ì— guard pages ë°°ì¹˜</li><li>MMUì—ì„œ illegal addressë¡œ flag</li><li>ì ‘ê·¼ ì‹œë„ ì‹œ process ì¤‘ë‹¨</li><li>í™•ì¥: Stack frame, heap buffer ì‚¬ì´ì— guard pages ë°°ì¹˜ (execution time cost)</li></ul><h2 id="replacement-stack-frame" tabindex="-1"><a class="header-anchor" href="#replacement-stack-frame"><span>Replacement Stack Frame</span></a></h2><ul><li>Variant: buffer ë° saved frame pointer address ë®ì–´ì“°ê¸°</li><li>Saved frame pointer ê°’ ë³€ê²½ -&gt; dummy stack frame ì°¸ì¡°</li><li>Current function return -&gt; replacement dummy frame</li><li>ì œì–´: Shellcode (in overwritten buffer)</li><li>Off-by-one attacks: 1 byte ë” ë³µì‚¬ í—ˆìš©</li><li>Defenses:</li><li>Stack protection (modification íƒì§€)</li><li>Non-executable stacks</li><li>ASLR</li></ul><h2 id="return-to-system-call" tabindex="-1"><a class="header-anchor" href="#return-to-system-call"><span>Return to System Call</span></a></h2><ul><li>Stack overflow variant: Return addressë¥¼ standard library functionìœ¼ë¡œ êµì²´</li><li>Non-executable stack ëŒ€ì‘</li><li>Attacker: Return address ìœ„ stackì— parameter êµ¬ì„±</li><li>Function returns -&gt; library function ì‹¤í–‰</li><li>(2 library call chaining ê°€ëŠ¥)</li><li>Defenses:</li><li>Stack protection</li><li>Non-executable stacks</li><li>ASLR</li></ul><h2 id="return-to-libc" tabindex="-1"><a class="header-anchor" href="#return-to-libc"><span>Return-to-libc</span></a></h2><ul><li>Code injection ëŒ€ì‹  ê¸°ì¡´ code (e.g., libc function) ì‚¬ìš©</li><li>ì˜ˆ: <code>system(â€œ/bin/shâ€);</code> <code>execve (argv[0],~argv,~NULL);</code></li><li>Exploit ì˜ˆ: <code>â€œAâ€*80 + â€œBâ€*4 + â€œ\xe0\x8a\x05\x40â€ + â€œAAAAâ€ + â€œ\xf9\xbf\x0f\x40â€</code></li><li><code>echo()</code> return ì‹œ, <code>system()</code>ì´ new shell ì‹¤í–‰</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi><mo>âŠ•</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">W \oplus X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> (W xor X) model Bypass</li></ul><h2 id="heap-overflow" tabindex="-1"><a class="header-anchor" href="#heap-overflow"><span>Heap Overflow</span></a></h2><ul><li>Heapì— ìœ„ì¹˜í•œ buffer attack</li><li>Return address ì—†ìŒ -&gt; ì œì–´ ì „ë‹¬ ì–´ë ¤ì›€</li><li>Function pointer exploit ë˜ëŠ” management ë°ì´í„° structure ì¡°ì‘</li><li>Defenses:</li><li>Making the heap non-executable</li><li>Randomizing the allocation of memory on the heap</li></ul><h2 id="heap-overflow-example" tabindex="-1"><a class="header-anchor" href="#heap-overflow-example"><span>Heap Overflow Example</span></a></h2><h2 id="global-á„ƒá…¦á„‹á…µá„á…¥-overflow" tabindex="-1"><a class="header-anchor" href="#global-á„ƒá…¦á„‹á…µá„á…¥-overflow"><span>Global ë°ì´í„° Overflow</span></a></h2><ul><li>Global ë°ì´í„°ì— ìœ„ì¹˜í•œ buffer attack</li><li>Function pointer, vulnerable buffer</li><li>Function pointer ë®ì–´ì“°ê¸° (ë‚˜ì¤‘ì— í˜¸ì¶œë¨)</li><li>Defenses:</li><li>Non-executable or random global ë°ì´í„° region</li><li>Move function pointers</li><li>Guard pages</li></ul><h2 id="global-á„ƒá…¦á„‹á…µá„á…¥-overflow-example" tabindex="-1"><a class="header-anchor" href="#global-á„ƒá…¦á„‹á…µá„á…¥-overflow-example"><span>Global ë°ì´í„° Overflow Example</span></a></h2><h2 id="return-oriented-programming" tabindex="-1"><a class="header-anchor" href="#return-oriented-programming"><span>Return-Oriented Programming</span></a></h2><ul><li>Concept</li><li>Attack method</li><li>Countermeasures</li><li>(ìƒí™©) Attacker: <code>f(â€œfooâ€)</code> ì‹¤í–‰ ì›í•¨, but</li><li><code>f()</code>ê°€ libcì— ì—†ìŒ</li><li><code>f()</code> ìœ„ì¹˜ randomized</li></ul><h2 id="rop-return-oriented-programming" tabindex="-1"><a class="header-anchor" href="#rop-return-oriented-programming"><span>ROP (Return-Oriented Programming)</span></a></h2><ul><li>Arbitrary (Turing-complete) computation (ë‹¤ìŒ ì—†ì´):</li><li>Malicious code injection</li><li>Library function (<code>system()</code>, <code>execve()</code>) call</li><li>Original code ìˆ˜ì •</li><li>(ë‹¨, stack contents (including return address) ë³€ê²½ í•„ìš”)</li><li>ì ìš© ì‹œìŠ¤í…œ: Intel <code>x86</code>, ARM, SPARC, Atmel AVR, Z80, PowerPC</li><li>ì‚¬ë¡€: Apple iPhone, Desktop PCs, Special-purpose machines</li></ul><h2 id="general-idea-of-rop" tabindex="-1"><a class="header-anchor" href="#general-idea-of-rop"><span>General Idea of ROP</span></a></h2><ul><li>Idea: Arbitrary computations (shellcode injection, lib function invocation, code modification ì—†ì´)</li><li>Approach:</li><li>ì „ì²´ function ëŒ€ì‹  small instruction sequences (e.g., libcì˜) ì‚¬ìš©</li><li>Instruction sequence: 2 ~ 5 instructions, ret instructionìœ¼ë¡œ ì¢…ë£Œ</li><li>Sequences: gadgetìœ¼ë¡œ chaining</li><li>Gadget: íŠ¹ì • task ìˆ˜í–‰ (e.g., load, store, xor, branch)</li><li>Adversary: Gadget ì¡°í•© -&gt; ì›í•˜ëŠ” action ê°•ì œ</li></ul><h2 id="finding-unintended-instruction-sequences" tabindex="-1"><a class="header-anchor" href="#finding-unintended-instruction-sequences"><span>Finding unintended instruction sequences</span></a></h2><ul><li>libcì— íŠ¹ì • instructions ì¡´ì¬ ê°€ì •</li><li><code>b8</code> ëŒ€ì‹  00 byte stream í•´ì„ ì‹œ, unintended instruction sequence íšë“ ê°€ëŠ¥</li></ul><h2 id="gadget-example-memory-load" tabindex="-1"><a class="header-anchor" href="#gadget-example-memory-load"><span>Gadget Example : Memory Load</span></a></h2><ul><li>Goal: Load <code>0xDEADBEEF</code> (pointed by <code>0x8010ABCD</code>) into <code>%eax</code> register</li><li><ol><li>Find Gadgets -&gt; BoF attack -&gt; Return -&gt; start Sequence 1</li></ol></li><li>Input value: <code>Pattern 1 + Pattern 2 + Ret_addr_1 + â€œ\x8D\xAB\x10\x80â€ + Ret_addr_2</code></li><li><ol start="2"><li><code>pop 0x8010AB8D</code> in register <code>%eax</code></li></ol></li><li><ol start="3"><li>Control flow: Sequence 1ì˜ ret instruction -&gt; Sequence 2ë¡œ ì´ë™</li></ol></li><li><ol start="4"><li>move <code>0xDEADBEEF</code> in register <code>%eax</code></li></ol></li></ul><h2 id="countermeasures" tabindex="-1"><a class="header-anchor" href="#countermeasures"><span>Countermeasures</span></a></h2><ul><li>Return address ë³´í˜¸ ë°©ë²•</li><li>Compiler based solutions:</li><li>Return address backup (onto shadow stack)</li><li>Hardware facilitated solutions:</li><li>Stack ë¶„ë¦¬ (data-only, call/return addresses-only)</li><li>Call/return stack access control</li><li>Dynamic binary instrumentation (JIT-compiler ê¸°ë°˜):</li><li>JIT: Runtimeì— instruction block compile -&gt; instrumentation code ì¶”ê°€</li><li>í”„ë¡œê·¸ë¨ shepherding:</li><li>Return targetì´ valid call siteì¸ì§€ check (return -&gt; call instruction ì§í›„)</li><li>ROPdefender:</li><li>Return address vs shadow stack (valid return addresses) check</li></ul><h2 id="rop-without-returns-9" tabindex="-1"><a class="header-anchor" href="#rop-without-returns-9"><span>ROP without Returns [9]</span></a></h2><ul><li>Features:</li><li>Return address ë³´í˜¸ countermeasure bypass</li><li>Intel <code>x86</code>, ARM ë“± ì ìš©</li><li>Turing-complete gadget set (without return instruction)</li><li>Approaches:</li><li>Return-like sequences ì‚¬ìš© (Candidates: indirect jumps)</li><li>Intel: jmp *<code>%eax</code></li><li>ARM: blx r3</li><li>Constraints:</li><li><code>%eax</code>, r3 ë“± register ì‚¬ì „ ì´ˆê¸°í™” í•„ìš”</li><li>Stack pointer: return ìë™ update, indirect jump ì•„ë‹˜</li></ul><h2 id="rop-without-returns" tabindex="-1"><a class="header-anchor" href="#rop-without-returns"><span>ROP without Returns</span></a></h2><ul><li>Return-like Sequences:</li><li>Intel: pop <code>%eax</code>; jmp *<code>%eax</code></li><li><ol><li>Target address pop (into <code>%eax</code>)</li></ol></li><li><ol start="2"><li>pop: stack pointer 4 bytes ì¦ê°€ (returnê³¼ ìœ ì‚¬)</li></ol></li><li><ol start="3"><li>jmp: <code>%eax</code> ì €ì¥ addressë¡œ</li></ol></li><li>ARM:</li><li>pop-jump sequence ì—†ìŒ</li><li>Update-Load-Branch Sequence ì‚¬ìš©</li><li><ol><li>(Update) { adds r6,#4 }</li></ol></li><li><ol start="2"><li>(Load) { ldr r5, [r6] }</li></ol></li><li><ol start="3"><li>(Branch) { blx r5 }</li></ol></li><li>Problems: Return-like sequences ì°¾ê¸° ì–´ë ¤ì›€</li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><!----><!--[--><div class="vp-footer-wrapper" data-v-e24f0054><hr data-v-e24f0054><div class="vp-footer" data-v-e24f0054><p class="built-with" data-v-e24f0054>BUILT WITH</p><div class="tech-logos" data-v-e24f0054><a href="https://www.cloudflare.com/" target="_blank" data-v-e24f0054><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/cloudflare/cloudflare-original.svg" alt="Cloudflare" data-v-e24f0054></a><a href="https://nodejs.org/" target="_blank" data-v-e24f0054><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nodejs/nodejs-original.svg" alt="Node.js" data-v-e24f0054></a><a href="https://github.com/kmbzn" target="_blank" data-v-e24f0054><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg" alt="GitHub" data-v-e24f0054></a><a href="https://git-scm.com/" target="_blank" data-v-e24f0054><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/git/git-original.svg" alt="Git" data-v-e24f0054></a><a href="https://vuejs.org/" target="_blank" data-v-e24f0054><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/vuejs/vuejs-original.svg" alt="Vue.js" data-v-e24f0054></a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" target="_blank" data-v-e24f0054><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg" alt="JavaScript" data-v-e24f0054></a><a href="https://code.visualstudio.com/" target="_blank" data-v-e24f0054><img src="https://blog.kakaocdn.net/dn/lTWD3/btsMdkdWJqP/b4aSv2aa6c425THE40jKB1/img.png" alt="VSCode" data-v-e24f0054></a><a href="https://www.npmjs.com/" target="_blank" data-v-e24f0054><img src="https://upload.wikimedia.org/wikipedia/commons/d/db/Npm-logo.svg" alt="npm" data-v-e24f0054></a></div><p class="copyright" data-v-e24f0054> All trademarks and logos are property of their respective owners.<br data-v-e24f0054> Â© 2025 kmbzn Â· <a href="https://github.com/kmbzn/blog/blob/master/LICENSE" target="_blank" data-v-e24f0054>MIT License</a><br data-v-e24f0054></p></div></div><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-BV4FAx4-.js" defer></script>
  </body>
</html>
